import{j as r,u as dc,G as uc,M as fc,I as mc}from"./maps-D8VA5O60.js";import{d as hc,a as l,o as R,b as jn,v as Js,R as Nn,N as pc,u as eo,e as pr,L as xe,f as xc,B as gc,h as vc,i as ye}from"./vendor-DRS5_eRE.js";import{c as bc,_ as $e,a as to,b as yc}from"./supabase-C862z6Tl.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Ut={},is;function wc(){if(is)return Ut;is=1;var e=hc();return Ut.createRoot=e.createRoot,Ut.hydrateRoot=e.hydrateRoot,Ut}var jc=wc();const Nc=1,Cc=1e6;let zr=0;function Sc(){return zr=(zr+1)%Number.MAX_SAFE_INTEGER,zr.toString()}const Vr=new Map,cs=e=>{if(Vr.has(e))return;const t=setTimeout(()=>{Vr.delete(e),kt({type:"REMOVE_TOAST",toastId:e})},Cc);Vr.set(e,t)},Ec=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Nc)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?cs(n):e.toasts.forEach(s=>{cs(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Jt=[];let er={toasts:[]};function kt(e){er=Ec(er,e),Jt.forEach(t=>{t(er)})}function _c({...e}){const t=Sc(),n=o=>kt({type:"UPDATE_TOAST",toast:{...o,id:t}}),s=()=>kt({type:"DISMISS_TOAST",toastId:t});return kt({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||s()}}}),{id:t,dismiss:s,update:n}}function vt(){const[e,t]=l.useState(er);return l.useEffect(()=>(Jt.push(t),()=>{const n=Jt.indexOf(t);n>-1&&Jt.splice(n,1)}),[e]),{...e,toast:_c,dismiss:n=>kt({type:"DISMISS_TOAST",toastId:n})}}function O(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function ls(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rt(...e){return t=>{let n=!1;const s=e.map(o=>{const a=ls(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():ls(e[o],null)}}}}function se(...e){return l.useCallback(rt(...e),e)}function We(e,t=[]){let n=[];function s(a,c){const i=l.createContext(c),d=n.length;n=[...n,c];const u=f=>{const{scope:x,children:h,...v}=f,p=x?.[e]?.[d]||i,g=l.useMemo(()=>v,Object.values(v));return r.jsx(p.Provider,{value:g,children:h})};u.displayName=a+"Provider";function m(f,x){const h=x?.[e]?.[d]||i,v=l.useContext(h);if(v)return v;if(c!==void 0)return c;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,m]}const o=()=>{const a=n.map(c=>l.createContext(c));return function(i){const d=i?.[e]||a;return l.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[s,kc(o,...t)]}function kc(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=s.reduce((i,{useScope:d,scopeName:u})=>{const f=d(a)[`__scope${u}`];return{...i,...f}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function ds(e){const t=Rc(e),n=l.forwardRef((s,o)=>{const{children:a,...c}=s,i=l.Children.toArray(a),d=i.find(Pc);if(d){const u=d.props.children,m=i.map(f=>f===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...c,ref:o,children:l.isValidElement(u)?l.cloneElement(u,void 0,m):null})}return r.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function Rc(e){const t=l.forwardRef((n,s)=>{const{children:o,...a}=n;if(l.isValidElement(o)){const c=Mc(o),i=Ac(a,o.props);return o.type!==l.Fragment&&(i.ref=s?rt(s,c):c),l.cloneElement(o,i)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tc=Symbol("radix.slottable");function Pc(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tc}function Ac(e,t){const n={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...i)=>{const d=a(...i);return o(...i),d}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function Mc(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cn(e){const t=e+"CollectionProvider",[n,s]=We(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=p=>{const{scope:g,children:y}=p,b=R.useRef(null),w=R.useRef(new Map).current;return r.jsx(o,{scope:g,itemMap:w,collectionRef:b,children:y})};c.displayName=t;const i=e+"CollectionSlot",d=ds(i),u=R.forwardRef((p,g)=>{const{scope:y,children:b}=p,w=a(i,y),j=se(g,w.collectionRef);return r.jsx(d,{ref:j,children:b})});u.displayName=i;const m=e+"CollectionItemSlot",f="data-radix-collection-item",x=ds(m),h=R.forwardRef((p,g)=>{const{scope:y,children:b,...w}=p,j=R.useRef(null),N=se(g,j),E=a(m,y);return R.useEffect(()=>(E.itemMap.set(j,{ref:j,...w}),()=>void E.itemMap.delete(j))),r.jsx(x,{[f]:"",ref:N,children:b})});h.displayName=m;function v(p){const g=a(e+"CollectionConsumer",p);return R.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((E,_)=>w.indexOf(E.ref.current)-w.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:c,Slot:u,ItemSlot:h},v,s]}function Ic(e){const t=Oc(e),n=l.forwardRef((s,o)=>{const{children:a,...c}=s,i=l.Children.toArray(a),d=i.find(Lc);if(d){const u=d.props.children,m=i.map(f=>f===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...c,ref:o,children:l.isValidElement(u)?l.cloneElement(u,void 0,m):null})}return r.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function Oc(e){const t=l.forwardRef((n,s)=>{const{children:o,...a}=n;if(l.isValidElement(o)){const c=Bc(o),i=Fc(a,o.props);return o.type!==l.Fragment&&(i.ref=s?rt(s,c):c),l.cloneElement(o,i)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Dc=Symbol("radix.slottable");function Lc(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dc}function Fc(e,t){const n={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...i)=>{const d=a(...i);return o(...i),d}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function Bc(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],te=$c.reduce((e,t)=>{const n=Ic(`Primitive.${t}`),s=l.forwardRef((o,a)=>{const{asChild:c,...i}=o,d=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...i,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Sn(e,t){e&&jn.flushSync(()=>e.dispatchEvent(t))}function fe(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...n)=>t.current?.(...n),[])}function zc(e,t=globalThis?.document){const n=fe(e);l.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Vc="DismissableLayer",tn="dismissableLayer.update",Uc="dismissableLayer.pointerDownOutside",Hc="dismissableLayer.focusOutside",us,ro=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xr=l.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:i,...d}=e,u=l.useContext(ro),[m,f]=l.useState(null),x=m?.ownerDocument??globalThis?.document,[,h]=l.useState({}),v=se(t,_=>f(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),b=m?p.indexOf(m):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,N=Kc(_=>{const A=_.target,L=[...u.branches].some(D=>D.contains(A));!j||L||(o?.(_),c?.(_),_.defaultPrevented||i?.())},x),E=Gc(_=>{const A=_.target;[...u.branches].some(D=>D.contains(A))||(a?.(_),c?.(_),_.defaultPrevented||i?.())},x);return zc(_=>{b===u.layers.size-1&&(s?.(_),!_.defaultPrevented&&i&&(_.preventDefault(),i()))},x),l.useEffect(()=>{if(m)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(us=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),fs(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=us)}},[m,x,n,u]),l.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),fs())},[m,u]),l.useEffect(()=>{const _=()=>h({});return document.addEventListener(tn,_),()=>document.removeEventListener(tn,_)},[]),r.jsx(te.div,{...d,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:O(e.onFocusCapture,E.onFocusCapture),onBlurCapture:O(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:O(e.onPointerDownCapture,N.onPointerDownCapture)})});xr.displayName=Vc;var Wc="DismissableLayerBranch",no=l.forwardRef((e,t)=>{const n=l.useContext(ro),s=l.useRef(null),o=se(t,s);return l.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(te.div,{...e,ref:o})});no.displayName=Wc;function Kc(e,t=globalThis?.document){const n=fe(e),s=l.useRef(!1),o=l.useRef(()=>{});return l.useEffect(()=>{const a=i=>{if(i.target&&!s.current){let d=function(){so(Uc,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Gc(e,t=globalThis?.document){const n=fe(e),s=l.useRef(!1);return l.useEffect(()=>{const o=a=>{a.target&&!s.current&&so(Hc,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function fs(){const e=new CustomEvent(tn);document.dispatchEvent(e)}function so(e,t,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?Sn(o,a):o.dispatchEvent(a)}var qc=xr,Yc=no,Pe=globalThis?.document?l.useLayoutEffect:()=>{},Qc="Portal",En=l.forwardRef((e,t)=>{const{container:n,...s}=e,[o,a]=l.useState(!1);Pe(()=>a(!0),[]);const c=n||o&&globalThis?.document?.body;return c?Js.createPortal(r.jsx(te.div,{...s,ref:t}),c):null});En.displayName=Qc;function Xc(e,t){return l.useReducer((n,s)=>t[n][s]??n,e)}var Ke=e=>{const{present:t,children:n}=e,s=Zc(t),o=typeof n=="function"?n({present:s.isPresent}):l.Children.only(n),a=se(s.ref,Jc(o));return typeof n=="function"||s.isPresent?l.cloneElement(o,{ref:a}):null};Ke.displayName="Presence";function Zc(e){const[t,n]=l.useState(),s=l.useRef(null),o=l.useRef(e),a=l.useRef("none"),c=e?"mounted":"unmounted",[i,d]=Xc(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=Ht(s.current);a.current=i==="mounted"?u:"none"},[i]),Pe(()=>{const u=s.current,m=o.current;if(m!==e){const x=a.current,h=Ht(u);e?d("MOUNT"):h==="none"||u?.display==="none"?d("UNMOUNT"):d(m&&x!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),Pe(()=>{if(t){let u;const m=t.ownerDocument.defaultView??window,f=h=>{const p=Ht(s.current).includes(CSS.escape(h.animationName));if(h.target===t&&p&&(d("ANIMATION_END"),!o.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},x=h=>{h.target===t&&(a.current=Ht(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(u),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:l.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Ht(e){return e?.animationName||"none"}function Jc(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var el=Nn[" useInsertionEffect ".trim().toString()]||Pe;function gr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[o,a,c]=tl({defaultProp:t,onChange:n}),i=e!==void 0,d=i?e:o;{const m=l.useRef(e!==void 0);l.useEffect(()=>{const f=m.current;f!==i&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=i},[i,s])}const u=l.useCallback(m=>{if(i){const f=rl(m)?m(e):m;f!==e&&c.current?.(f)}else a(m)},[i,e,a,c]);return[d,u]}function tl({defaultProp:e,onChange:t}){const[n,s]=l.useState(e),o=l.useRef(n),a=l.useRef(t);return el(()=>{a.current=t},[t]),l.useEffect(()=>{o.current!==n&&(a.current?.(n),o.current=n)},[n,o]),[n,s,a]}function rl(e){return typeof e=="function"}var nl=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sl="VisuallyHidden",vr=l.forwardRef((e,t)=>r.jsx(te.span,{...e,ref:t,style:{...nl,...e.style}}));vr.displayName=sl;var ol=vr,_n="ToastProvider",[kn,al,il]=Cn("Toast"),[oo]=We("Toast",[il]),[cl,br]=oo(_n),ao=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:c}=e,[i,d]=l.useState(null),[u,m]=l.useState(0),f=l.useRef(!1),x=l.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_n}\`. Expected non-empty \`string\`.`),r.jsx(kn.Provider,{scope:t,children:r.jsx(cl,{scope:t,label:n,duration:s,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:i,onViewportChange:d,onToastAdd:l.useCallback(()=>m(h=>h+1),[]),onToastRemove:l.useCallback(()=>m(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:x,children:c})})};ao.displayName=_n;var io="ToastViewport",ll=["F8"],rn="toast.viewportPause",nn="toast.viewportResume",co=l.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=ll,label:o="Notifications ({hotkey})",...a}=e,c=br(io,n),i=al(n),d=l.useRef(null),u=l.useRef(null),m=l.useRef(null),f=l.useRef(null),x=se(t,f,c.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=c.toastCount>0;l.useEffect(()=>{const g=y=>{s.length!==0&&s.every(w=>y[w]||y.code===w)&&f.current?.focus()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s]),l.useEffect(()=>{const g=d.current,y=f.current;if(v&&g&&y){const b=()=>{if(!c.isClosePausedRef.current){const E=new CustomEvent(rn);y.dispatchEvent(E),c.isClosePausedRef.current=!0}},w=()=>{if(c.isClosePausedRef.current){const E=new CustomEvent(nn);y.dispatchEvent(E),c.isClosePausedRef.current=!1}},j=E=>{!g.contains(E.relatedTarget)&&w()},N=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",b),g.addEventListener("focusout",j),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",j),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[v,c.isClosePausedRef]);const p=l.useCallback(({tabbingDirection:g})=>{const b=i().map(w=>{const j=w.ref.current,N=[j,...jl(j)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?b.reverse():b).flat()},[i]);return l.useEffect(()=>{const g=f.current;if(g){const y=b=>{const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const N=document.activeElement,E=b.shiftKey;if(b.target===g&&E){u.current?.focus();return}const L=p({tabbingDirection:E?"backwards":"forwards"}),D=L.findIndex(B=>B===N);Ur(L.slice(D+1))?b.preventDefault():E?u.current?.focus():m.current?.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[i,p]),r.jsxs(Yc,{ref:d,role:"region","aria-label":o.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&r.jsx(sn,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});Ur(g)}}),r.jsx(kn.Slot,{scope:n,children:r.jsx(te.ol,{tabIndex:-1,...a,ref:x})}),v&&r.jsx(sn,{ref:m,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});Ur(g)}})]})});co.displayName=io;var lo="ToastFocusProxy",sn=l.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...o}=e,a=br(lo,n);return r.jsx(vr,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{const i=c.relatedTarget;!a.viewport?.contains(i)&&s()}})});sn.displayName=lo;var Dt="Toast",dl="toast.swipeStart",ul="toast.swipeMove",fl="toast.swipeCancel",ml="toast.swipeEnd",uo=l.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:o,onOpenChange:a,...c}=e,[i,d]=gr({prop:s,defaultProp:o??!0,onChange:a,caller:Dt});return r.jsx(Ke,{present:n||i,children:r.jsx(xl,{open:i,...c,ref:t,onClose:()=>d(!1),onPause:fe(e.onPause),onResume:fe(e.onResume),onSwipeStart:O(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:O(e.onSwipeMove,u=>{const{x:m,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:O(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:O(e.onSwipeEnd,u=>{const{x:m,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});uo.displayName=Dt;var[hl,pl]=oo(Dt,{onClose(){}}),xl=l.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:o,open:a,onClose:c,onEscapeKeyDown:i,onPause:d,onResume:u,onSwipeStart:m,onSwipeMove:f,onSwipeCancel:x,onSwipeEnd:h,...v}=e,p=br(Dt,n),[g,y]=l.useState(null),b=se(t,C=>y(C)),w=l.useRef(null),j=l.useRef(null),N=o||p.duration,E=l.useRef(0),_=l.useRef(N),A=l.useRef(0),{onToastAdd:L,onToastRemove:D}=p,B=fe(()=>{g?.contains(document.activeElement)&&p.viewport?.focus(),c()}),T=l.useCallback(C=>{!C||C===1/0||(window.clearTimeout(A.current),E.current=new Date().getTime(),A.current=window.setTimeout(B,C))},[B]);l.useEffect(()=>{const C=p.viewport;if(C){const M=()=>{T(_.current),u?.()},k=()=>{const I=new Date().getTime()-E.current;_.current=_.current-I,window.clearTimeout(A.current),d?.()};return C.addEventListener(rn,k),C.addEventListener(nn,M),()=>{C.removeEventListener(rn,k),C.removeEventListener(nn,M)}}},[p.viewport,N,d,u,T]),l.useEffect(()=>{a&&!p.isClosePausedRef.current&&T(N)},[a,N,p.isClosePausedRef,T]),l.useEffect(()=>(L(),()=>D()),[L,D]);const G=l.useMemo(()=>g?vo(g):null,[g]);return p.viewport?r.jsxs(r.Fragment,{children:[G&&r.jsx(gl,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:G}),r.jsx(hl,{scope:n,onClose:B,children:jn.createPortal(r.jsx(kn.ItemSlot,{scope:n,children:r.jsx(qc,{asChild:!0,onEscapeKeyDown:O(i,()=>{p.isFocusedToastEscapeKeyDownRef.current||B(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(te.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:O(e.onKeyDown,C=>{C.key==="Escape"&&(i?.(C.nativeEvent),C.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:O(e.onPointerDown,C=>{C.button===0&&(w.current={x:C.clientX,y:C.clientY})}),onPointerMove:O(e.onPointerMove,C=>{if(!w.current)return;const M=C.clientX-w.current.x,k=C.clientY-w.current.y,I=!!j.current,P=["left","right"].includes(p.swipeDirection),S=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,$=P?S(0,M):0,X=P?0:S(0,k),H=C.pointerType==="touch"?10:2,q={x:$,y:X},Y={originalEvent:C,delta:q};I?(j.current=q,Wt(ul,f,Y,{discrete:!1})):ms(q,p.swipeDirection,H)?(j.current=q,Wt(dl,m,Y,{discrete:!1}),C.target.setPointerCapture(C.pointerId)):(Math.abs(M)>H||Math.abs(k)>H)&&(w.current=null)}),onPointerUp:O(e.onPointerUp,C=>{const M=j.current,k=C.target;if(k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),j.current=null,w.current=null,M){const I=C.currentTarget,P={originalEvent:C,delta:M};ms(M,p.swipeDirection,p.swipeThreshold)?Wt(ml,h,P,{discrete:!0}):Wt(fl,x,P,{discrete:!0}),I.addEventListener("click",S=>S.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),gl=e=>{const{__scopeToast:t,children:n,...s}=e,o=br(Dt,t),[a,c]=l.useState(!1),[i,d]=l.useState(!1);return yl(()=>c(!0)),l.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:r.jsx(En,{asChild:!0,children:r.jsx(vr,{...s,children:a&&r.jsxs(r.Fragment,{children:[o.label," ",n]})})})},vl="ToastTitle",fo=l.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(te.div,{...s,ref:t})});fo.displayName=vl;var bl="ToastDescription",mo=l.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(te.div,{...s,ref:t})});mo.displayName=bl;var ho="ToastAction",po=l.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(go,{altText:n,asChild:!0,children:r.jsx(Rn,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ho}\`. Expected non-empty \`string\`.`),null)});po.displayName=ho;var xo="ToastClose",Rn=l.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,o=pl(xo,n);return r.jsx(go,{asChild:!0,children:r.jsx(te.button,{type:"button",...s,ref:t,onClick:O(e.onClick,o.onClose)})})});Rn.displayName=xo;var go=l.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...o}=e;return r.jsx(te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...o,ref:t})});function vo(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),wl(s)){const o=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const c=s.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...vo(s))}}),t}function Wt(e,t,n,{discrete:s}){const o=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?Sn(o,a):o.dispatchEvent(a)}var ms=(e,t,n=0)=>{const s=Math.abs(e.x),o=Math.abs(e.y),a=s>o;return t==="left"||t==="right"?a&&s>n:!a&&o>n};function yl(e=()=>{}){const t=fe(e);Pe(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function wl(e){return e.nodeType===e.ELEMENT_NODE}function jl(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ur(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Nl=ao,bo=co,yo=uo,wo=fo,jo=mo,No=po,Co=Rn;function So(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=So(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Eo(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=So(e))&&(s&&(s+=" "),s+=t);return s}const hs=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ps=Eo,_o=(e,t)=>n=>{var s;if(t?.variants==null)return ps(e,n?.class,n?.className);const{variants:o,defaultVariants:a}=t,c=Object.keys(o).map(u=>{const m=n?.[u],f=a?.[u];if(m===null)return null;const x=hs(m)||hs(f);return o[u][x]}),i=n&&Object.entries(n).reduce((u,m)=>{let[f,x]=m;return x===void 0||(u[f]=x),u},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,m)=>{let{class:f,className:x,...h}=m;return Object.entries(h).every(v=>{let[p,g]=v;return Array.isArray(g)?g.includes({...a,...i}[p]):{...a,...i}[p]===g})?[...u,f,x]:u},[]);return ps(e,c,d,n?.class,n?.className)};const Cl=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sl=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),xs=e=>{const t=Sl(e);return t.charAt(0).toUpperCase()+t.slice(1)},ko=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),El=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var _l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kl=l.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:c,...i},d)=>l.createElement("svg",{ref:d,..._l,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:ko("lucide",o),...!a&&!El(i)&&{"aria-hidden":"true"},...i},[...c.map(([u,m])=>l.createElement(u,m)),...Array.isArray(a)?a:[a]]));const W=(e,t)=>{const n=l.forwardRef(({className:s,...o},a)=>l.createElement(kl,{ref:a,iconNode:t,className:ko(`lucide-${Cl(xs(e))}`,`lucide-${e}`,s),...o}));return n.displayName=xs(e),n};const Rl=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Tl=W("arrow-left",Rl);const Pl=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ro=W("building-2",Pl);const Al=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],ze=W("bus",Al);const Ml=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Il=W("chart-column",Ml);const Ol=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],To=W("check",Ol);const Dl=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ll=W("chevron-down",Dl);const Fl=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bl=W("chevron-right",Fl);const $l=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zl=W("chevron-up",$l);const Vl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pt=W("circle-alert",Vl);const Ul=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hl=W("circle-check-big",Ul);const Wl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Po=W("circle-check",Wl);const Kl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gl=W("circle",Kl);const ql=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yl=W("clock",ql);const Ql=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xl=W("copy",Ql);const Zl=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Jl=W("download",Zl);const ed=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],td=W("ellipsis-vertical",ed);const rd=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nd=W("funnel",rd);const sd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],od=W("globe",sd);const ad=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],on=W("lock",ad);const id=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],cd=W("log-out",id);const ld=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Tn=W("mail",ld);const dd=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],et=W("map-pin",dd);const ud=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],fd=W("menu",ud);const md=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],sr=W("navigation",md);const hd=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pd=W("phone",hd);const xd=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yr=W("plus",xd);const gd=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],vd=W("printer",gd);const bd=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yd=W("radio",bd);const wd=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pn=W("refresh-cw",wd);const jd=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wr=W("search",jd);const Nd=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cd=W("settings",Nd);const Sd=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ed=W("square-pen",Sd);const _d=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kd=W("trash-2",_d);const Rd=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Td=W("trending-up",Rd);const Pd=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],or=W("triangle-alert",Pd);const Ad=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Md=W("user",Ad);const Id=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],An=W("users",Id);const Od=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lt=W("x",Od);const Dd=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ld=W("zap",Dd),Mn="-",Fd=e=>{const t=$d(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const i=c.split(Mn);return i[0]===""&&i.length!==1&&i.shift(),Ao(i,t)||Bd(c)},getConflictingClassGroupIds:(c,i)=>{const d=n[c]||[];return i&&s[c]?[...d,...s[c]]:d}}},Ao=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?Ao(e.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Mn);return t.validators.find(({validator:c})=>c(a))?.classGroupId},gs=/^\[(.+)\]$/,Bd=e=>{if(gs.test(e)){const t=gs.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$d=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return Vd(Object.entries(e.classGroups),n).forEach(([a,c])=>{an(c,s,a,t)}),s},an=(e,t,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:vs(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(zd(o)){an(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,c])=>{an(c,vs(t,a),n,s)})})},vs=(e,t)=>{let n=e;return t.split(Mn).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},zd=e=>e.isThemeGetter,Vd=(e,t)=>t?e.map(([n,s])=>{const o=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,i])=>[t+c,i])):a);return[n,o]}):e,Ud=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(a,c)=>{n.set(a,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=s.get(a))!==void 0)return o(a,c),c},set(a,c){n.has(a)?n.set(a,c):o(a,c)}}},Mo="!",Hd=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,o=t[0],a=t.length,c=i=>{const d=[];let u=0,m=0,f;for(let g=0;g<i.length;g++){let y=i[g];if(u===0){if(y===o&&(s||i.slice(g,g+a)===t)){d.push(i.slice(m,g)),m=g+a;continue}if(y==="/"){f=g;continue}}y==="["?u++:y==="]"&&u--}const x=d.length===0?i:i.substring(m),h=x.startsWith(Mo),v=h?x.substring(1):x,p=f&&f>m?f-m:void 0;return{modifiers:d,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:p}};return n?i=>n({className:i,parseClassName:c}):c},Wd=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},Kd=e=>({cache:Ud(e.cacheSize),parseClassName:Hd(e),...Fd(e)}),Gd=/\s+/,qd=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o}=t,a=[],c=e.trim().split(Gd);let i="";for(let d=c.length-1;d>=0;d-=1){const u=c[d],{modifiers:m,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:h}=n(u);let v=!!h,p=s(v?x.substring(0,h):x);if(!p){if(!v){i=u+(i.length>0?" "+i:i);continue}if(p=s(x),!p){i=u+(i.length>0?" "+i:i);continue}v=!1}const g=Wd(m).join(":"),y=f?g+Mo:g,b=y+p;if(a.includes(b))continue;a.push(b);const w=o(p,v);for(let j=0;j<w.length;++j){const N=w[j];a.push(y+N)}i=u+(i.length>0?" "+i:i)}return i};function Yd(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Io(t))&&(s&&(s+=" "),s+=n);return s}const Io=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=Io(e[s]))&&(n&&(n+=" "),n+=t);return n};function Qd(e,...t){let n,s,o,a=c;function c(d){const u=t.reduce((m,f)=>f(m),e());return n=Kd(u),s=n.cache.get,o=n.cache.set,a=i,i(d)}function i(d){const u=s(d);if(u)return u;const m=qd(d,n);return o(d,m),m}return function(){return a(Yd.apply(null,arguments))}}const re=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Oo=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xd=/^\d+\/\d+$/,Zd=new Set(["px","full","screen"]),Jd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eu=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tu=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ru=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Te=e=>ft(e)||Zd.has(e)||Xd.test(e),Le=e=>bt(e,"length",uu),ft=e=>!!e&&!Number.isNaN(Number(e)),Hr=e=>bt(e,"number",ft),Ct=e=>!!e&&Number.isInteger(Number(e)),su=e=>e.endsWith("%")&&ft(e.slice(0,-1)),U=e=>Oo.test(e),Fe=e=>Jd.test(e),ou=new Set(["length","size","percentage"]),au=e=>bt(e,ou,Do),iu=e=>bt(e,"position",Do),cu=new Set(["image","url"]),lu=e=>bt(e,cu,mu),du=e=>bt(e,"",fu),St=()=>!0,bt=(e,t,n)=>{const s=Oo.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},uu=e=>eu.test(e)&&!tu.test(e),Do=()=>!1,fu=e=>ru.test(e),mu=e=>nu.test(e),hu=()=>{const e=re("colors"),t=re("spacing"),n=re("blur"),s=re("brightness"),o=re("borderColor"),a=re("borderRadius"),c=re("borderSpacing"),i=re("borderWidth"),d=re("contrast"),u=re("grayscale"),m=re("hueRotate"),f=re("invert"),x=re("gap"),h=re("gradientColorStops"),v=re("gradientColorStopPositions"),p=re("inset"),g=re("margin"),y=re("opacity"),b=re("padding"),w=re("saturate"),j=re("scale"),N=re("sepia"),E=re("skew"),_=re("space"),A=re("translate"),L=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",U,t],T=()=>[U,t],G=()=>["",Te,Le],C=()=>["auto",ft,U],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],k=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],S=()=>["","0",U],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[ft,U];return{cacheSize:500,separator:":",theme:{colors:[St],spacing:[Te,Le],blur:["none","",Fe,U],brightness:X(),borderColor:[e],borderRadius:["none","","full",Fe,U],borderSpacing:T(),borderWidth:G(),contrast:X(),grayscale:S(),hueRotate:X(),invert:S(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[su,Le],inset:B(),margin:B(),opacity:X(),padding:T(),saturate:X(),scale:X(),sepia:S(),skew:X(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[Fe]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),U]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ct,U]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:S()}],shrink:[{shrink:S()}],order:[{order:["first","last","none",Ct,U]}],"grid-cols":[{"grid-cols":[St]}],"col-start-end":[{col:["auto",{span:["full",Ct,U]},U]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[St]}],"row-start-end":[{row:["auto",{span:[Ct,U]},U]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,t]}],"min-w":[{"min-w":[U,t,"min","max","fit"]}],"max-w":[{"max-w":[U,t,"none","full","min","max","fit","prose",{screen:[Fe]},Fe]}],h:[{h:[U,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fe,Le]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hr]}],"font-family":[{font:[St]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",ft,Hr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Te,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...k(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Te,Le]}],"underline-offset":[{"underline-offset":["auto",Te,U]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),iu]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",au]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lu]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...k(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:k()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...k()]}],"outline-offset":[{"outline-offset":[Te,U]}],"outline-w":[{outline:[Te,Le]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Te,Le]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fe,du]}],"shadow-color":[{shadow:[St]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Fe,U]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ct,U]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Te,Le,Hr]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pu=Qd(hu);function ee(...e){return pu(Eo(e))}const xu=Nl,Lo=l.forwardRef(({className:e,...t},n)=>r.jsx(bo,{ref:n,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Lo.displayName=bo.displayName;const gu=_o("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Fo=l.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(yo,{ref:s,className:ee(gu({variant:t}),e),...n}));Fo.displayName=yo.displayName;const vu=l.forwardRef(({className:e,...t},n)=>r.jsx(No,{ref:n,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vu.displayName=No.displayName;const Bo=l.forwardRef(({className:e,...t},n)=>r.jsx(Co,{ref:n,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Lt,{className:"h-4 w-4"})}));Bo.displayName=Co.displayName;const $o=l.forwardRef(({className:e,...t},n)=>r.jsx(wo,{ref:n,className:ee("text-sm font-semibold",e),...t}));$o.displayName=wo.displayName;const zo=l.forwardRef(({className:e,...t},n)=>r.jsx(jo,{ref:n,className:ee("text-sm opacity-90",e),...t}));zo.displayName=jo.displayName;function bu(){const{toasts:e}=vt();return r.jsxs(xu,{children:[e.map(function({id:t,title:n,description:s,action:o,...a}){return r.jsxs(Fo,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx($o,{children:n}),s&&r.jsx(zo,{children:s})]}),o,r.jsx(Bo,{})]},t)}),r.jsx(Lo,{})]})}var yu=(e,t,n,s,o,a,c,i)=>{let d=document.documentElement,u=["light","dark"];function m(h){(Array.isArray(e)?e:[e]).forEach(v=>{let p=v==="class",g=p&&a?o.map(y=>a[y]||y):o;p?(d.classList.remove(...g),d.classList.add(a&&a[h]?a[h]:h)):d.setAttribute(v,h)}),f(h)}function f(h){i&&u.includes(h)&&(d.style.colorScheme=h)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)m(s);else try{let h=localStorage.getItem(t)||n,v=c&&h==="system"?x():h;m(v)}catch{}},wu=l.createContext(void 0),ju={setTheme:e=>{},themes:[]},Nu=()=>{var e;return(e=l.useContext(wu))!=null?e:ju};l.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:o,defaultTheme:a,value:c,themes:i,nonce:d,scriptProps:u})=>{let m=JSON.stringify([n,t,a,e,i,c,s,o]).slice(1,-1);return l.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${yu.toString()})(${m})`}})});var Cu=e=>{switch(e){case"success":return _u;case"info":return Ru;case"warning":return ku;case"error":return Tu;default:return null}},Su=Array(12).fill(0),Eu=({visible:e,className:t})=>R.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},R.createElement("div",{className:"sonner-spinner"},Su.map((n,s)=>R.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),_u=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ku=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ru=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Tu=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Pu=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},R.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),R.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Au=()=>{let[e,t]=R.useState(document.hidden);return R.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},cn=1,Mu=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:cn++,a=this.toasts.find(i=>i.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(i=>i.id===o?(this.publish({...i,...e,id:o,title:n}),{...i,...e,id:o,dismissible:c,title:n}):i):this.addToast({title:n,...s,dismissible:c,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),o=n!==void 0,a,c=s.then(async d=>{if(a=["resolve",d],R.isValidElement(d))o=!1,this.create({id:n,type:"default",message:d});else if(Ou(d)&&!d.ok){o=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:n,type:"error",message:u,description:m})}else if(t.success!==void 0){o=!1;let u=typeof t.success=="function"?await t.success(d):t.success,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"success",message:u,description:m})}}).catch(async d=>{if(a=["reject",d],t.error!==void 0){o=!1;let u=typeof t.error=="function"?await t.error(d):t.error,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"error",message:u,description:m})}}).finally(()=>{var d;o&&(this.dismiss(n),n=void 0),(d=t.finally)==null||d.call(t)}),i=()=>new Promise((d,u)=>c.then(()=>a[0]==="reject"?u(a[1]):d(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:i}:Object.assign(n,{unwrap:i})},this.custom=(e,t)=>{let n=t?.id||cn++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},le=new Mu,Iu=(e,t)=>{let n=t?.id||cn++;return le.addToast({title:e,...t,id:n}),n},Ou=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Du=Iu,Lu=()=>le.toasts,Fu=()=>le.getActiveToasts();Object.assign(Du,{success:le.success,info:le.info,warning:le.warning,error:le.error,custom:le.custom,message:le.message,promise:le.promise,dismiss:le.dismiss,loading:le.loading},{getHistory:Lu,getToasts:Fu});function Bu(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Bu(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kt(e){return e.label!==void 0}var $u=3,zu="32px",Vu="16px",bs=4e3,Uu=356,Hu=14,Wu=20,Ku=200;function we(...e){return e.filter(Boolean).join(" ")}function Gu(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var qu=e=>{var t,n,s,o,a,c,i,d,u,m,f;let{invert:x,toast:h,unstyled:v,interacting:p,setHeights:g,visibleToasts:y,heights:b,index:w,toasts:j,expanded:N,removeToast:E,defaultRichColors:_,closeButton:A,style:L,cancelButtonStyle:D,actionButtonStyle:B,className:T="",descriptionClassName:G="",duration:C,position:M,gap:k,loadingIcon:I,expandByDefault:P,classNames:S,icons:$,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:H}=e,[q,Y]=R.useState(null),[oe,ce]=R.useState(null),[V,Re]=R.useState(!1),[Ge,ot]=R.useState(!1),[qe,jt]=R.useState(!1),[Ye,Xi]=R.useState(!1),[Zi,es]=R.useState(!1),[Ji,Fr]=R.useState(0),[ec,ts]=R.useState(0),Nt=R.useRef(h.duration||C||bs),rs=R.useRef(null),Qe=R.useRef(null),tc=w===0,rc=w+1<=y,me=h.type,at=h.dismissible!==!1,nc=h.className||"",sc=h.descriptionClassName||"",Vt=R.useMemo(()=>b.findIndex(z=>z.toastId===h.id)||0,[b,h.id]),oc=R.useMemo(()=>{var z;return(z=h.closeButton)!=null?z:A},[h.closeButton,A]),ns=R.useMemo(()=>h.duration||C||bs,[h.duration,C]),Br=R.useRef(0),it=R.useRef(0),ss=R.useRef(0),ct=R.useRef(null),[ac,ic]=M.split("-"),os=R.useMemo(()=>b.reduce((z,J,ne)=>ne>=Vt?z:z+J.height,0),[b,Vt]),as=Au(),cc=h.invert||x,$r=me==="loading";it.current=R.useMemo(()=>Vt*k+os,[Vt,os]),R.useEffect(()=>{Nt.current=ns},[ns]),R.useEffect(()=>{Re(!0)},[]),R.useEffect(()=>{let z=Qe.current;if(z){let J=z.getBoundingClientRect().height;return ts(J),g(ne=>[{toastId:h.id,height:J,position:h.position},...ne]),()=>g(ne=>ne.filter(ge=>ge.toastId!==h.id))}},[g,h.id]),R.useLayoutEffect(()=>{if(!V)return;let z=Qe.current,J=z.style.height;z.style.height="auto";let ne=z.getBoundingClientRect().height;z.style.height=J,ts(ne),g(ge=>ge.find(ve=>ve.toastId===h.id)?ge.map(ve=>ve.toastId===h.id?{...ve,height:ne}:ve):[{toastId:h.id,height:ne,position:h.position},...ge])},[V,h.title,h.description,g,h.id]);let Ie=R.useCallback(()=>{ot(!0),Fr(it.current),g(z=>z.filter(J=>J.toastId!==h.id)),setTimeout(()=>{E(h)},Ku)},[h,E,g,it]);R.useEffect(()=>{if(h.promise&&me==="loading"||h.duration===1/0||h.type==="loading")return;let z;return N||p||H&&as?(()=>{if(ss.current<Br.current){let J=new Date().getTime()-Br.current;Nt.current=Nt.current-J}ss.current=new Date().getTime()})():Nt.current!==1/0&&(Br.current=new Date().getTime(),z=setTimeout(()=>{var J;(J=h.onAutoClose)==null||J.call(h,h),Ie()},Nt.current)),()=>clearTimeout(z)},[N,p,h,me,H,as,Ie]),R.useEffect(()=>{h.delete&&Ie()},[Ie,h.delete]);function lc(){var z,J,ne;return $!=null&&$.loading?R.createElement("div",{className:we(S?.loader,(z=h?.classNames)==null?void 0:z.loader,"sonner-loader"),"data-visible":me==="loading"},$.loading):I?R.createElement("div",{className:we(S?.loader,(J=h?.classNames)==null?void 0:J.loader,"sonner-loader"),"data-visible":me==="loading"},I):R.createElement(Eu,{className:we(S?.loader,(ne=h?.classNames)==null?void 0:ne.loader),visible:me==="loading"})}return R.createElement("li",{tabIndex:0,ref:Qe,className:we(T,nc,S?.toast,(t=h?.classNames)==null?void 0:t.toast,S?.default,S?.[me],(n=h?.classNames)==null?void 0:n[me]),"data-sonner-toast":"","data-rich-colors":(s=h.richColors)!=null?s:_,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":V,"data-promise":!!h.promise,"data-swiped":Zi,"data-removed":Ge,"data-visible":rc,"data-y-position":ac,"data-x-position":ic,"data-index":w,"data-front":tc,"data-swiping":qe,"data-dismissible":at,"data-type":me,"data-invert":cc,"data-swipe-out":Ye,"data-swipe-direction":oe,"data-expanded":!!(N||P&&V),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${Ge?Ji:it.current}px`,"--initial-height":P?"auto":`${ec}px`,...L,...h.style},onDragEnd:()=>{jt(!1),Y(null),ct.current=null},onPointerDown:z=>{$r||!at||(rs.current=new Date,Fr(it.current),z.target.setPointerCapture(z.pointerId),z.target.tagName!=="BUTTON"&&(jt(!0),ct.current={x:z.clientX,y:z.clientY}))},onPointerUp:()=>{var z,J,ne,ge;if(Ye||!at)return;ct.current=null;let ve=Number(((z=Qe.current)==null?void 0:z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Oe=Number(((J=Qe.current)==null?void 0:J.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xe=new Date().getTime()-((ne=rs.current)==null?void 0:ne.getTime()),be=q==="x"?ve:Oe,De=Math.abs(be)/Xe;if(Math.abs(be)>=Wu||De>.11){Fr(it.current),(ge=h.onDismiss)==null||ge.call(h,h),ce(q==="x"?ve>0?"right":"left":Oe>0?"down":"up"),Ie(),Xi(!0),es(!1);return}jt(!1),Y(null)},onPointerMove:z=>{var J,ne,ge,ve;if(!ct.current||!at||((J=window.getSelection())==null?void 0:J.toString().length)>0)return;let Oe=z.clientY-ct.current.y,Xe=z.clientX-ct.current.x,be=(ne=e.swipeDirections)!=null?ne:Gu(M);!q&&(Math.abs(Xe)>1||Math.abs(Oe)>1)&&Y(Math.abs(Xe)>Math.abs(Oe)?"x":"y");let De={x:0,y:0};q==="y"?(be.includes("top")||be.includes("bottom"))&&(be.includes("top")&&Oe<0||be.includes("bottom")&&Oe>0)&&(De.y=Oe):q==="x"&&(be.includes("left")||be.includes("right"))&&(be.includes("left")&&Xe<0||be.includes("right")&&Xe>0)&&(De.x=Xe),(Math.abs(De.x)>0||Math.abs(De.y)>0)&&es(!0),(ge=Qe.current)==null||ge.style.setProperty("--swipe-amount-x",`${De.x}px`),(ve=Qe.current)==null||ve.style.setProperty("--swipe-amount-y",`${De.y}px`)}},oc&&!h.jsx?R.createElement("button",{"aria-label":X,"data-disabled":$r,"data-close-button":!0,onClick:$r||!at?()=>{}:()=>{var z;Ie(),(z=h.onDismiss)==null||z.call(h,h)},className:we(S?.closeButton,(o=h?.classNames)==null?void 0:o.closeButton)},(a=$?.close)!=null?a:Pu):null,h.jsx||l.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:R.createElement(R.Fragment,null,me||h.icon||h.promise?R.createElement("div",{"data-icon":"",className:we(S?.icon,(c=h?.classNames)==null?void 0:c.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||lc():null,h.type!=="loading"?h.icon||$?.[me]||Cu(me):null):null,R.createElement("div",{"data-content":"",className:we(S?.content,(i=h?.classNames)==null?void 0:i.content)},R.createElement("div",{"data-title":"",className:we(S?.title,(d=h?.classNames)==null?void 0:d.title)},typeof h.title=="function"?h.title():h.title),h.description?R.createElement("div",{"data-description":"",className:we(G,sc,S?.description,(u=h?.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),l.isValidElement(h.cancel)?h.cancel:h.cancel&&Kt(h.cancel)?R.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||D,onClick:z=>{var J,ne;Kt(h.cancel)&&at&&((ne=(J=h.cancel).onClick)==null||ne.call(J,z),Ie())},className:we(S?.cancelButton,(m=h?.classNames)==null?void 0:m.cancelButton)},h.cancel.label):null,l.isValidElement(h.action)?h.action:h.action&&Kt(h.action)?R.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||B,onClick:z=>{var J,ne;Kt(h.action)&&((ne=(J=h.action).onClick)==null||ne.call(J,z),!z.defaultPrevented&&Ie())},className:we(S?.actionButton,(f=h?.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function ys(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Yu(e,t){let n={};return[e,t].forEach((s,o)=>{let a=o===1,c=a?"--mobile-offset":"--offset",i=a?Vu:zu;function d(u){["top","right","bottom","left"].forEach(m=>{n[`${c}-${m}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${c}-${u}`]=i:n[`${c}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):d(i)}),n}var Qu=l.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:c,className:i,offset:d,mobileOffset:u,theme:m="light",richColors:f,duration:x,style:h,visibleToasts:v=$u,toastOptions:p,dir:g=ys(),gap:y=Hu,loadingIcon:b,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[E,_]=R.useState([]),A=R.useMemo(()=>Array.from(new Set([s].concat(E.filter(H=>H.position).map(H=>H.position)))),[E,s]),[L,D]=R.useState([]),[B,T]=R.useState(!1),[G,C]=R.useState(!1),[M,k]=R.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=R.useRef(null),P=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=R.useRef(null),$=R.useRef(!1),X=R.useCallback(H=>{_(q=>{var Y;return(Y=q.find(oe=>oe.id===H.id))!=null&&Y.delete||le.dismiss(H.id),q.filter(({id:oe})=>oe!==H.id)})},[]);return R.useEffect(()=>le.subscribe(H=>{if(H.dismiss){_(q=>q.map(Y=>Y.id===H.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{Js.flushSync(()=>{_(q=>{let Y=q.findIndex(oe=>oe.id===H.id);return Y!==-1?[...q.slice(0,Y),{...q[Y],...H},...q.slice(Y+1)]:[H,...q]})})})}),[]),R.useEffect(()=>{if(m!=="system"){k(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:q})=>{k(q?"dark":"light")})}catch{H.addListener(({matches:Y})=>{try{k(Y?"dark":"light")}catch(oe){console.error(oe)}})}},[m]),R.useEffect(()=>{E.length<=1&&T(!1)},[E]),R.useEffect(()=>{let H=q=>{var Y,oe;o.every(ce=>q[ce]||q.code===ce)&&(T(!0),(Y=I.current)==null||Y.focus()),q.code==="Escape"&&(document.activeElement===I.current||(oe=I.current)!=null&&oe.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[o]),R.useEffect(()=>{if(I.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,$.current=!1)}},[I.current]),R.createElement("section",{ref:t,"aria-label":`${j} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((H,q)=>{var Y;let[oe,ce]=H.split("-");return E.length?R.createElement("ol",{key:H,dir:g==="auto"?ys():g,tabIndex:-1,ref:I,className:i,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":oe,"data-lifted":B&&E.length>1&&!a,"data-x-position":ce,style:{"--front-toast-height":`${((Y=L[0])==null?void 0:Y.height)||0}px`,"--width":`${Uu}px`,"--gap":`${y}px`,...h,...Yu(d,u)},onBlur:V=>{$.current&&!V.currentTarget.contains(V.relatedTarget)&&($.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||$.current||($.current=!0,S.current=V.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{G||T(!1)},onDragEnd:()=>T(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},E.filter(V=>!V.position&&q===0||V.position===H).map((V,Re)=>{var Ge,ot;return R.createElement(qu,{key:V.id,icons:w,index:Re,toast:V,defaultRichColors:f,duration:(Ge=p?.duration)!=null?Ge:x,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:n,visibleToasts:v,closeButton:(ot=p?.closeButton)!=null?ot:c,interacting:G,position:H,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:X,toasts:E.filter(qe=>qe.position==V.position),heights:L.filter(qe=>qe.position==V.position),setHeights:D,expandByDefault:a,gap:y,loadingIcon:b,expanded:B,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const Xu=({...e})=>{const{theme:t="system"}=Nu();return r.jsx(Qu,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Zu=Nn[" useId ".trim().toString()]||(()=>{}),Ju=0;function ln(e){const[t,n]=l.useState(Zu());return Pe(()=>{n(s=>s??String(Ju++))},[e]),t?`radix-${t}`:""}const ef=["top","right","bottom","left"],Ue=Math.min,de=Math.max,ar=Math.round,Gt=Math.floor,Ee=e=>({x:e,y:e}),tf={left:"right",right:"left",bottom:"top",top:"bottom"},rf={start:"end",end:"start"};function dn(e,t,n){return de(e,Ue(t,n))}function Ae(e,t){return typeof e=="function"?e(t):e}function Me(e){return e.split("-")[0]}function yt(e){return e.split("-")[1]}function In(e){return e==="x"?"y":"x"}function On(e){return e==="y"?"height":"width"}const nf=new Set(["top","bottom"]);function Se(e){return nf.has(Me(e))?"y":"x"}function Dn(e){return In(Se(e))}function sf(e,t,n){n===void 0&&(n=!1);const s=yt(e),o=Dn(e),a=On(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=ir(c)),[c,ir(c)]}function of(e){const t=ir(e);return[un(e),t,un(t)]}function un(e){return e.replace(/start|end/g,t=>rf[t])}const ws=["left","right"],js=["right","left"],af=["top","bottom"],cf=["bottom","top"];function lf(e,t,n){switch(e){case"top":case"bottom":return n?t?js:ws:t?ws:js;case"left":case"right":return t?af:cf;default:return[]}}function df(e,t,n,s){const o=yt(e);let a=lf(Me(e),n==="start",s);return o&&(a=a.map(c=>c+"-"+o),t&&(a=a.concat(a.map(un)))),a}function ir(e){return e.replace(/left|right|bottom|top/g,t=>tf[t])}function uf(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vo(e){return typeof e!="number"?uf(e):{top:e,right:e,bottom:e,left:e}}function cr(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function Ns(e,t,n){let{reference:s,floating:o}=e;const a=Se(t),c=Dn(t),i=On(c),d=Me(t),u=a==="y",m=s.x+s.width/2-o.width/2,f=s.y+s.height/2-o.height/2,x=s[i]/2-o[i]/2;let h;switch(d){case"top":h={x:m,y:s.y-o.height};break;case"bottom":h={x:m,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-o.width,y:f};break;default:h={x:s.x,y:s.y}}switch(yt(t)){case"start":h[c]-=x*(n&&u?-1:1);break;case"end":h[c]+=x*(n&&u?-1:1);break}return h}const ff=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:c}=n,i=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let u=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:f}=Ns(u,s,d),x=s,h={},v=0;for(let p=0;p<i.length;p++){const{name:g,fn:y}=i[p],{x:b,y:w,data:j,reset:N}=await y({x:m,y:f,initialPlacement:s,placement:x,strategy:o,middlewareData:h,rects:u,platform:c,elements:{reference:e,floating:t}});m=b??m,f=w??f,h={...h,[g]:{...h[g],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(x=N.placement),N.rects&&(u=N.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:m,y:f}=Ns(u,x,d)),p=-1)}return{x:m,y:f,placement:x,strategy:o,middlewareData:h}};async function Rt(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:a,rects:c,elements:i,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:x=!1,padding:h=0}=Ae(t,e),v=Vo(h),g=i[x?f==="floating"?"reference":"floating":f],y=cr(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(g)))==null||n?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:u,rootBoundary:m,strategy:d})),b=f==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=cr(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:b,offsetParent:w,strategy:d}):b);return{top:(y.top-N.top+v.top)/j.y,bottom:(N.bottom-y.bottom+v.bottom)/j.y,left:(y.left-N.left+v.left)/j.x,right:(N.right-y.right+v.right)/j.x}}const mf=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:a,platform:c,elements:i,middlewareData:d}=t,{element:u,padding:m=0}=Ae(e,t)||{};if(u==null)return{};const f=Vo(m),x={x:n,y:s},h=Dn(o),v=On(h),p=await c.getDimensions(u),g=h==="y",y=g?"top":"left",b=g?"bottom":"right",w=g?"clientHeight":"clientWidth",j=a.reference[v]+a.reference[h]-x[h]-a.floating[v],N=x[h]-a.reference[h],E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(u));let _=E?E[w]:0;(!_||!await(c.isElement==null?void 0:c.isElement(E)))&&(_=i.floating[w]||a.floating[v]);const A=j/2-N/2,L=_/2-p[v]/2-1,D=Ue(f[y],L),B=Ue(f[b],L),T=D,G=_-p[v]-B,C=_/2-p[v]/2+A,M=dn(T,C,G),k=!d.arrow&&yt(o)!=null&&C!==M&&a.reference[v]/2-(C<T?D:B)-p[v]/2<0,I=k?C<T?C-T:C-G:0;return{[h]:x[h]+I,data:{[h]:M,centerOffset:C-M-I,...k&&{alignmentOffset:I}},reset:k}}}),hf=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:a,rects:c,initialPlacement:i,platform:d,elements:u}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:x,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...g}=Ae(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Me(o),b=Se(i),w=Me(i)===i,j=await(d.isRTL==null?void 0:d.isRTL(u.floating)),N=x||(w||!p?[ir(i)]:of(i)),E=v!=="none";!x&&E&&N.push(...df(i,p,v,j));const _=[i,...N],A=await Rt(t,g),L=[];let D=((s=a.flip)==null?void 0:s.overflows)||[];if(m&&L.push(A[y]),f){const C=sf(o,c,j);L.push(A[C[0]],A[C[1]])}if(D=[...D,{placement:o,overflows:L}],!L.every(C=>C<=0)){var B,T;const C=(((B=a.flip)==null?void 0:B.index)||0)+1,M=_[C];if(M&&(!(f==="alignment"?b!==Se(M):!1)||D.every(P=>Se(P.placement)===b?P.overflows[0]>0:!0)))return{data:{index:C,overflows:D},reset:{placement:M}};let k=(T=D.filter(I=>I.overflows[0]<=0).sort((I,P)=>I.overflows[1]-P.overflows[1])[0])==null?void 0:T.placement;if(!k)switch(h){case"bestFit":{var G;const I=(G=D.filter(P=>{if(E){const S=Se(P.placement);return S===b||S==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(S=>S>0).reduce((S,$)=>S+$,0)]).sort((P,S)=>P[1]-S[1])[0])==null?void 0:G[0];I&&(k=I);break}case"initialPlacement":k=i;break}if(o!==k)return{reset:{placement:k}}}return{}}}};function Cs(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ss(e){return ef.some(t=>e[t]>=0)}const pf=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=Ae(e,t);switch(s){case"referenceHidden":{const a=await Rt(t,{...o,elementContext:"reference"}),c=Cs(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Ss(c)}}}case"escaped":{const a=await Rt(t,{...o,altBoundary:!0}),c=Cs(a,n.floating);return{data:{escapedOffsets:c,escaped:Ss(c)}}}default:return{}}}}},Uo=new Set(["left","top"]);async function xf(e,t){const{placement:n,platform:s,elements:o}=e,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=Me(n),i=yt(n),d=Se(n)==="y",u=Uo.has(c)?-1:1,m=a&&d?-1:1,f=Ae(t,e);let{mainAxis:x,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof v=="number"&&(h=i==="end"?v*-1:v),d?{x:h*m,y:x*u}:{x:x*u,y:h*m}}const gf=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:a,placement:c,middlewareData:i}=t,d=await xf(t,e);return c===((n=i.offset)==null?void 0:n.placement)&&(s=i.arrow)!=null&&s.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:c}}}}},vf=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:i={fn:g=>{let{x:y,y:b}=g;return{x:y,y:b}}},...d}=Ae(e,t),u={x:n,y:s},m=await Rt(t,d),f=Se(Me(o)),x=In(f);let h=u[x],v=u[f];if(a){const g=x==="y"?"top":"left",y=x==="y"?"bottom":"right",b=h+m[g],w=h-m[y];h=dn(b,h,w)}if(c){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=v+m[g],w=v-m[y];v=dn(b,v,w)}const p=i.fn({...t,[x]:h,[f]:v});return{...p,data:{x:p.x-n,y:p.y-s,enabled:{[x]:a,[f]:c}}}}}},bf=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:a,middlewareData:c}=t,{offset:i=0,mainAxis:d=!0,crossAxis:u=!0}=Ae(e,t),m={x:n,y:s},f=Se(o),x=In(f);let h=m[x],v=m[f];const p=Ae(i,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(d){const w=x==="y"?"height":"width",j=a.reference[x]-a.floating[w]+g.mainAxis,N=a.reference[x]+a.reference[w]-g.mainAxis;h<j?h=j:h>N&&(h=N)}if(u){var y,b;const w=x==="y"?"width":"height",j=Uo.has(Me(o)),N=a.reference[f]-a.floating[w]+(j&&((y=c.offset)==null?void 0:y[f])||0)+(j?0:g.crossAxis),E=a.reference[f]+a.reference[w]+(j?0:((b=c.offset)==null?void 0:b[f])||0)-(j?g.crossAxis:0);v<N?v=N:v>E&&(v=E)}return{[x]:h,[f]:v}}}},yf=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:a,platform:c,elements:i}=t,{apply:d=()=>{},...u}=Ae(e,t),m=await Rt(t,u),f=Me(o),x=yt(o),h=Se(o)==="y",{width:v,height:p}=a.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=x===(await(c.isRTL==null?void 0:c.isRTL(i.floating))?"start":"end")?"left":"right"):(y=f,g=x==="end"?"top":"bottom");const b=p-m.top-m.bottom,w=v-m.left-m.right,j=Ue(p-m[g],b),N=Ue(v-m[y],w),E=!t.middlewareData.shift;let _=j,A=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(_=b),E&&!x){const D=de(m.left,0),B=de(m.right,0),T=de(m.top,0),G=de(m.bottom,0);h?A=v-2*(D!==0||B!==0?D+B:de(m.left,m.right)):_=p-2*(T!==0||G!==0?T+G:de(m.top,m.bottom))}await d({...t,availableWidth:A,availableHeight:_});const L=await c.getDimensions(i.floating);return v!==L.width||p!==L.height?{reset:{rects:!0}}:{}}}};function jr(){return typeof window<"u"}function wt(e){return Ho(e)?(e.nodeName||"").toLowerCase():"#document"}function ue(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ke(e){var t;return(t=(Ho(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ho(e){return jr()?e instanceof Node||e instanceof ue(e).Node:!1}function Ne(e){return jr()?e instanceof Element||e instanceof ue(e).Element:!1}function _e(e){return jr()?e instanceof HTMLElement||e instanceof ue(e).HTMLElement:!1}function Es(e){return!jr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ue(e).ShadowRoot}const wf=new Set(["inline","contents"]);function Ft(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=Ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!wf.has(o)}const jf=new Set(["table","td","th"]);function Nf(e){return jf.has(wt(e))}const Cf=[":popover-open",":modal"];function Nr(e){return Cf.some(t=>{try{return e.matches(t)}catch{return!1}})}const Sf=["transform","translate","scale","rotate","perspective"],Ef=["transform","translate","scale","rotate","perspective","filter"],_f=["paint","layout","strict","content"];function Ln(e){const t=Fn(),n=Ne(e)?Ce(e):e;return Sf.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ef.some(s=>(n.willChange||"").includes(s))||_f.some(s=>(n.contain||"").includes(s))}function kf(e){let t=He(e);for(;_e(t)&&!xt(t);){if(Ln(t))return t;if(Nr(t))return null;t=He(t)}return null}function Fn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Rf=new Set(["html","body","#document"]);function xt(e){return Rf.has(wt(e))}function Ce(e){return ue(e).getComputedStyle(e)}function Cr(e){return Ne(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function He(e){if(wt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Es(e)&&e.host||ke(e);return Es(t)?t.host:t}function Wo(e){const t=He(e);return xt(t)?e.ownerDocument?e.ownerDocument.body:e.body:_e(t)&&Ft(t)?t:Wo(t)}function Tt(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Wo(e),a=o===((s=e.ownerDocument)==null?void 0:s.body),c=ue(o);if(a){const i=fn(c);return t.concat(c,c.visualViewport||[],Ft(o)?o:[],i&&n?Tt(i):[])}return t.concat(o,Tt(o,[],n))}function fn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ko(e){const t=Ce(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=_e(e),a=o?e.offsetWidth:n,c=o?e.offsetHeight:s,i=ar(n)!==a||ar(s)!==c;return i&&(n=a,s=c),{width:n,height:s,$:i}}function Bn(e){return Ne(e)?e:e.contextElement}function mt(e){const t=Bn(e);if(!_e(t))return Ee(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:a}=Ko(t);let c=(a?ar(n.width):n.width)/s,i=(a?ar(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!i||!Number.isFinite(i))&&(i=1),{x:c,y:i}}const Tf=Ee(0);function Go(e){const t=ue(e);return!Fn()||!t.visualViewport?Tf:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pf(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ue(e)?!1:t}function tt(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Bn(e);let c=Ee(1);t&&(s?Ne(s)&&(c=mt(s)):c=mt(e));const i=Pf(a,n,s)?Go(a):Ee(0);let d=(o.left+i.x)/c.x,u=(o.top+i.y)/c.y,m=o.width/c.x,f=o.height/c.y;if(a){const x=ue(a),h=s&&Ne(s)?ue(s):s;let v=x,p=fn(v);for(;p&&s&&h!==v;){const g=mt(p),y=p.getBoundingClientRect(),b=Ce(p),w=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*g.x,j=y.top+(p.clientTop+parseFloat(b.paddingTop))*g.y;d*=g.x,u*=g.y,m*=g.x,f*=g.y,d+=w,u+=j,v=ue(p),p=fn(v)}}return cr({width:m,height:f,x:d,y:u})}function Sr(e,t){const n=Cr(e).scrollLeft;return t?t.left+n:tt(ke(e)).left+n}function qo(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Sr(e,n),o=n.top+t.scrollTop;return{x:s,y:o}}function Af(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const a=o==="fixed",c=ke(s),i=t?Nr(t.floating):!1;if(s===c||i&&a)return n;let d={scrollLeft:0,scrollTop:0},u=Ee(1);const m=Ee(0),f=_e(s);if((f||!f&&!a)&&((wt(s)!=="body"||Ft(c))&&(d=Cr(s)),_e(s))){const h=tt(s);u=mt(s),m.x=h.x+s.clientLeft,m.y=h.y+s.clientTop}const x=c&&!f&&!a?qo(c,d):Ee(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+m.x+x.x,y:n.y*u.y-d.scrollTop*u.y+m.y+x.y}}function Mf(e){return Array.from(e.getClientRects())}function If(e){const t=ke(e),n=Cr(e),s=e.ownerDocument.body,o=de(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=de(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+Sr(e);const i=-n.scrollTop;return Ce(s).direction==="rtl"&&(c+=de(t.clientWidth,s.clientWidth)-o),{width:o,height:a,x:c,y:i}}const _s=25;function Of(e,t){const n=ue(e),s=ke(e),o=n.visualViewport;let a=s.clientWidth,c=s.clientHeight,i=0,d=0;if(o){a=o.width,c=o.height;const m=Fn();(!m||m&&t==="fixed")&&(i=o.offsetLeft,d=o.offsetTop)}const u=Sr(s);if(u<=0){const m=s.ownerDocument,f=m.body,x=getComputedStyle(f),h=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,v=Math.abs(s.clientWidth-f.clientWidth-h);v<=_s&&(a-=v)}else u<=_s&&(a+=u);return{width:a,height:c,x:i,y:d}}const Df=new Set(["absolute","fixed"]);function Lf(e,t){const n=tt(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,a=_e(e)?mt(e):Ee(1),c=e.clientWidth*a.x,i=e.clientHeight*a.y,d=o*a.x,u=s*a.y;return{width:c,height:i,x:d,y:u}}function ks(e,t,n){let s;if(t==="viewport")s=Of(e,n);else if(t==="document")s=If(ke(e));else if(Ne(t))s=Lf(t,n);else{const o=Go(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return cr(s)}function Yo(e,t){const n=He(e);return n===t||!Ne(n)||xt(n)?!1:Ce(n).position==="fixed"||Yo(n,t)}function Ff(e,t){const n=t.get(e);if(n)return n;let s=Tt(e,[],!1).filter(i=>Ne(i)&&wt(i)!=="body"),o=null;const a=Ce(e).position==="fixed";let c=a?He(e):e;for(;Ne(c)&&!xt(c);){const i=Ce(c),d=Ln(c);!d&&i.position==="fixed"&&(o=null),(a?!d&&!o:!d&&i.position==="static"&&!!o&&Df.has(o.position)||Ft(c)&&!d&&Yo(e,c))?s=s.filter(m=>m!==c):o=i,c=He(c)}return t.set(e,s),s}function Bf(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const c=[...n==="clippingAncestors"?Nr(t)?[]:Ff(t,this._c):[].concat(n),s],i=c[0],d=c.reduce((u,m)=>{const f=ks(t,m,o);return u.top=de(f.top,u.top),u.right=Ue(f.right,u.right),u.bottom=Ue(f.bottom,u.bottom),u.left=de(f.left,u.left),u},ks(t,i,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function $f(e){const{width:t,height:n}=Ko(e);return{width:t,height:n}}function zf(e,t,n){const s=_e(t),o=ke(t),a=n==="fixed",c=tt(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const d=Ee(0);function u(){d.x=Sr(o)}if(s||!s&&!a)if((wt(t)!=="body"||Ft(o))&&(i=Cr(t)),s){const h=tt(t,!0,a,t);d.x=h.x+t.clientLeft,d.y=h.y+t.clientTop}else o&&u();a&&!s&&o&&u();const m=o&&!s&&!a?qo(o,i):Ee(0),f=c.left+i.scrollLeft-d.x-m.x,x=c.top+i.scrollTop-d.y-m.y;return{x:f,y:x,width:c.width,height:c.height}}function Wr(e){return Ce(e).position==="static"}function Rs(e,t){if(!_e(e)||Ce(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ke(e)===n&&(n=n.ownerDocument.body),n}function Qo(e,t){const n=ue(e);if(Nr(e))return n;if(!_e(e)){let o=He(e);for(;o&&!xt(o);){if(Ne(o)&&!Wr(o))return o;o=He(o)}return n}let s=Rs(e,t);for(;s&&Nf(s)&&Wr(s);)s=Rs(s,t);return s&&xt(s)&&Wr(s)&&!Ln(s)?n:s||kf(e)||n}const Vf=async function(e){const t=this.getOffsetParent||Qo,n=this.getDimensions,s=await n(e.floating);return{reference:zf(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Uf(e){return Ce(e).direction==="rtl"}const Hf={convertOffsetParentRelativeRectToViewportRelativeRect:Af,getDocumentElement:ke,getClippingRect:Bf,getOffsetParent:Qo,getElementRects:Vf,getClientRects:Mf,getDimensions:$f,getScale:mt,isElement:Ne,isRTL:Uf};function Xo(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wf(e,t){let n=null,s;const o=ke(e);function a(){var i;clearTimeout(s),(i=n)==null||i.disconnect(),n=null}function c(i,d){i===void 0&&(i=!1),d===void 0&&(d=1),a();const u=e.getBoundingClientRect(),{left:m,top:f,width:x,height:h}=u;if(i||t(),!x||!h)return;const v=Gt(f),p=Gt(o.clientWidth-(m+x)),g=Gt(o.clientHeight-(f+h)),y=Gt(m),w={rootMargin:-v+"px "+-p+"px "+-g+"px "+-y+"px",threshold:de(0,Ue(1,d))||1};let j=!0;function N(E){const _=E[0].intersectionRatio;if(_!==d){if(!j)return c();_?c(!1,_):s=setTimeout(()=>{c(!1,1e-7)},1e3)}_===1&&!Xo(u,e.getBoundingClientRect())&&c(),j=!1}try{n=new IntersectionObserver(N,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return c(!0),a}function Kf(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,u=Bn(e),m=o||a?[...u?Tt(u):[],...Tt(t)]:[];m.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const f=u&&i?Wf(u,n):null;let x=-1,h=null;c&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!d&&h.observe(u),h.observe(t));let v,p=d?tt(e):null;d&&g();function g(){const y=tt(e);p&&!Xo(p,y)&&n(),p=y,v=requestAnimationFrame(g)}return n(),()=>{var y;m.forEach(b=>{o&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f?.(),(y=h)==null||y.disconnect(),h=null,d&&cancelAnimationFrame(v)}}const Gf=gf,qf=vf,Yf=hf,Qf=yf,Xf=pf,Ts=mf,Zf=bf,Jf=(e,t,n)=>{const s=new Map,o={platform:Hf,...n},a={...o.platform,_c:s};return ff(e,t,{...o,platform:a})};var em=typeof document<"u",tm=function(){},tr=em?l.useLayoutEffect:tm;function lr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!lr(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!lr(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Zo(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ps(e,t){const n=Zo(e);return Math.round(t*n)/n}function Kr(e){const t=l.useRef(e);return tr(()=>{t.current=e}),t}function rm(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:c}={},transform:i=!0,whileElementsMounted:d,open:u}=e,[m,f]=l.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,h]=l.useState(s);lr(x,s)||h(s);const[v,p]=l.useState(null),[g,y]=l.useState(null),b=l.useCallback(P=>{P!==E.current&&(E.current=P,p(P))},[]),w=l.useCallback(P=>{P!==_.current&&(_.current=P,y(P))},[]),j=a||v,N=c||g,E=l.useRef(null),_=l.useRef(null),A=l.useRef(m),L=d!=null,D=Kr(d),B=Kr(o),T=Kr(u),G=l.useCallback(()=>{if(!E.current||!_.current)return;const P={placement:t,strategy:n,middleware:x};B.current&&(P.platform=B.current),Jf(E.current,_.current,P).then(S=>{const $={...S,isPositioned:T.current!==!1};C.current&&!lr(A.current,$)&&(A.current=$,jn.flushSync(()=>{f($)}))})},[x,t,n,B,T]);tr(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const C=l.useRef(!1);tr(()=>(C.current=!0,()=>{C.current=!1}),[]),tr(()=>{if(j&&(E.current=j),N&&(_.current=N),j&&N){if(D.current)return D.current(j,N,G);G()}},[j,N,G,D,L]);const M=l.useMemo(()=>({reference:E,floating:_,setReference:b,setFloating:w}),[b,w]),k=l.useMemo(()=>({reference:j,floating:N}),[j,N]),I=l.useMemo(()=>{const P={position:n,left:0,top:0};if(!k.floating)return P;const S=Ps(k.floating,m.x),$=Ps(k.floating,m.y);return i?{...P,transform:"translate("+S+"px, "+$+"px)",...Zo(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:$}},[n,i,k.floating,m.x,m.y]);return l.useMemo(()=>({...m,update:G,refs:M,elements:k,floatingStyles:I}),[m,G,M,k,I])}const nm=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Ts({element:s.current,padding:o}).fn(n):{}:s?Ts({element:s,padding:o}).fn(n):{}}}},sm=(e,t)=>({...Gf(e),options:[e,t]}),om=(e,t)=>({...qf(e),options:[e,t]}),am=(e,t)=>({...Zf(e),options:[e,t]}),im=(e,t)=>({...Yf(e),options:[e,t]}),cm=(e,t)=>({...Qf(e),options:[e,t]}),lm=(e,t)=>({...Xf(e),options:[e,t]}),dm=(e,t)=>({...nm(e),options:[e,t]});var um="Arrow",Jo=l.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...a}=e;return r.jsx(te.svg,{...a,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jo.displayName=um;var fm=Jo;function ea(e){const[t,n]=l.useState(void 0);return Pe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,i;if("borderBoxSize"in a){const d=a.borderBoxSize,u=Array.isArray(d)?d[0]:d;c=u.inlineSize,i=u.blockSize}else c=e.offsetWidth,i=e.offsetHeight;n({width:c,height:i})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var $n="Popper",[ta,Er]=We($n),[mm,ra]=ta($n),na=e=>{const{__scopePopper:t,children:n}=e,[s,o]=l.useState(null);return r.jsx(mm,{scope:t,anchor:s,onAnchorChange:o,children:n})};na.displayName=$n;var sa="PopperAnchor",oa=l.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,a=ra(sa,n),c=l.useRef(null),i=se(t,c),d=l.useRef(null);return l.useEffect(()=>{const u=d.current;d.current=s?.current||c.current,u!==d.current&&a.onAnchorChange(d.current)}),s?null:r.jsx(te.div,{...o,ref:i})});oa.displayName=sa;var zn="PopperContent",[hm,pm]=ta(zn),aa=l.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:i=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:x=!1,updatePositionStrategy:h="optimized",onPlaced:v,...p}=e,g=ra(zn,n),[y,b]=l.useState(null),w=se(t,V=>b(V)),[j,N]=l.useState(null),E=ea(j),_=E?.width??0,A=E?.height??0,L=s+(a!=="center"?"-"+a:""),D=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(u)?u:[u],T=B.length>0,G={padding:D,boundary:B.filter(gm),altBoundary:T},{refs:C,floatingStyles:M,placement:k,isPositioned:I,middlewareData:P}=rm({strategy:"fixed",placement:L,whileElementsMounted:(...V)=>Kf(...V,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[sm({mainAxis:o+A,alignmentAxis:c}),d&&om({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?am():void 0,...G}),d&&im({...G}),cm({...G,apply:({elements:V,rects:Re,availableWidth:Ge,availableHeight:ot})=>{const{width:qe,height:jt}=Re.reference,Ye=V.floating.style;Ye.setProperty("--radix-popper-available-width",`${Ge}px`),Ye.setProperty("--radix-popper-available-height",`${ot}px`),Ye.setProperty("--radix-popper-anchor-width",`${qe}px`),Ye.setProperty("--radix-popper-anchor-height",`${jt}px`)}}),j&&dm({element:j,padding:i}),vm({arrowWidth:_,arrowHeight:A}),x&&lm({strategy:"referenceHidden",...G})]}),[S,$]=la(k),X=fe(v);Pe(()=>{I&&X?.()},[I,X]);const H=P.arrow?.x,q=P.arrow?.y,Y=P.arrow?.centerOffset!==0,[oe,ce]=l.useState();return Pe(()=>{y&&ce(window.getComputedStyle(y).zIndex)},[y]),r.jsx("div",{ref:C.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:I?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(hm,{scope:n,placedSide:S,onArrowChange:N,arrowX:H,arrowY:q,shouldHideArrow:Y,children:r.jsx(te.div,{"data-side":S,"data-align":$,...p,ref:w,style:{...p.style,animation:I?void 0:"none"}})})})});aa.displayName=zn;var ia="PopperArrow",xm={top:"bottom",right:"left",bottom:"top",left:"right"},ca=l.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,a=pm(ia,s),c=xm[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(fm,{...o,ref:n,style:{...o.style,display:"block"}})})});ca.displayName=ia;function gm(e){return e!==null}var vm=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,i=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[u,m]=la(n),f={start:"0%",center:"50%",end:"100%"}[m],x=(o.arrow?.x??0)+i/2,h=(o.arrow?.y??0)+d/2;let v="",p="";return u==="bottom"?(v=c?f:`${x}px`,p=`${-d}px`):u==="top"?(v=c?f:`${x}px`,p=`${s.floating.height+d}px`):u==="right"?(v=`${-d}px`,p=c?f:`${h}px`):u==="left"&&(v=`${s.floating.width+d}px`,p=c?f:`${h}px`),{data:{x:v,y:p}}}});function la(e){const[t,n="center"]=e.split("-");return[t,n]}var bm=na,da=oa,ua=aa,fa=ca,ym=Symbol("radix.slottable");function wm(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=ym,t}var[_r]=We("Tooltip",[Er]),Vn=Er(),ma="TooltipProvider",jm=700,As="tooltip.open",[Nm,ha]=_r(ma),pa=e=>{const{__scopeTooltip:t,delayDuration:n=jm,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=e,c=l.useRef(!0),i=l.useRef(!1),d=l.useRef(0);return l.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),r.jsx(Nm,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:l.useCallback(()=>{window.clearTimeout(d.current),c.current=!1},[]),onClose:l.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:i,onPointerInTransitChange:l.useCallback(u=>{i.current=u},[]),disableHoverableContent:o,children:a})};pa.displayName=ma;var xa="Tooltip",[$g,kr]=_r(xa),mn="TooltipTrigger",Cm=l.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=kr(mn,n),a=ha(mn,n),c=Vn(n),i=l.useRef(null),d=se(t,i,o.onTriggerChange),u=l.useRef(!1),m=l.useRef(!1),f=l.useCallback(()=>u.current=!1,[]);return l.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(da,{asChild:!0,...c,children:r.jsx(te.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:d,onPointerMove:O(e.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:O(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:O(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:O(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:O(e.onBlur,o.onClose),onClick:O(e.onClick,o.onClose)})})});Cm.displayName=mn;var Sm="TooltipPortal",[zg,Em]=_r(Sm,{forceMount:void 0}),gt="TooltipContent",ga=l.forwardRef((e,t)=>{const n=Em(gt,e.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...a}=e,c=kr(gt,e.__scopeTooltip);return r.jsx(Ke,{present:s||c.open,children:c.disableHoverableContent?r.jsx(va,{side:o,...a,ref:t}):r.jsx(_m,{side:o,...a,ref:t})})}),_m=l.forwardRef((e,t)=>{const n=kr(gt,e.__scopeTooltip),s=ha(gt,e.__scopeTooltip),o=l.useRef(null),a=se(t,o),[c,i]=l.useState(null),{trigger:d,onClose:u}=n,m=o.current,{onPointerInTransitChange:f}=s,x=l.useCallback(()=>{i(null),f(!1)},[f]),h=l.useCallback((v,p)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},b=Am(y,g.getBoundingClientRect()),w=Mm(y,b),j=Im(p.getBoundingClientRect()),N=Dm([...w,...j]);i(N),f(!0)},[f]);return l.useEffect(()=>()=>x(),[x]),l.useEffect(()=>{if(d&&m){const v=g=>h(g,m),p=g=>h(g,d);return d.addEventListener("pointerleave",v),m.addEventListener("pointerleave",p),()=>{d.removeEventListener("pointerleave",v),m.removeEventListener("pointerleave",p)}}},[d,m,h,x]),l.useEffect(()=>{if(c){const v=p=>{const g=p.target,y={x:p.clientX,y:p.clientY},b=d?.contains(g)||m?.contains(g),w=!Om(y,c);b?x():w&&(x(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,m,c,u,x]),r.jsx(va,{...e,ref:a})}),[km,Rm]=_r(xa,{isInside:!1}),Tm=wm("TooltipContent"),va=l.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...i}=e,d=kr(gt,n),u=Vn(n),{onClose:m}=d;return l.useEffect(()=>(document.addEventListener(As,m),()=>document.removeEventListener(As,m)),[m]),l.useEffect(()=>{if(d.trigger){const f=x=>{x.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,m]),r.jsx(xr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:r.jsxs(ua,{"data-state":d.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Tm,{children:s}),r.jsx(km,{scope:n,isInside:!0,children:r.jsx(ol,{id:d.contentId,role:"tooltip",children:o||s})})]})})});ga.displayName=gt;var ba="TooltipArrow",Pm=l.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=Vn(n);return Rm(ba,n).isInside?null:r.jsx(fa,{...o,...s,ref:t})});Pm.displayName=ba;function Am(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,o,a)){case a:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Mm(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Im(e){const{top:t,right:n,bottom:s,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:s},{x:o,y:s}]}function Om(e,t){const{x:n,y:s}=e;let o=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const i=t[a],d=t[c],u=i.x,m=i.y,f=d.x,x=d.y;m>s!=x>s&&n<(f-u)*(s-m)/(x-m)+u&&(o=!o)}return o}function Dm(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Lm(t)}function Lm(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const o=e[s];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const o=e[s];for(;n.length>=2;){const a=n[n.length-1],c=n[n.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Fm=pa,ya=ga;const Bm=Fm,$m=l.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(ya,{ref:s,sideOffset:t,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));$m.displayName=ya.displayName;var Rr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zm={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Vm=class{#e=zm;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},hn=new Vm;function Um(e){setTimeout(e,0)}var Tr=typeof window>"u"||"Deno"in globalThis;function je(){}function Hm(e,t){return typeof e=="function"?e(t):e}function Wm(e){return typeof e=="number"&&e>=0&&e!==1/0}function Km(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pn(e,t){return typeof e=="function"?e(t):e}function Gm(e,t){return typeof e=="function"?e(t):e}function Ms(e,t){const{type:n="all",exact:s,fetchStatus:o,predicate:a,queryKey:c,stale:i}=e;if(c){if(s){if(t.queryHash!==Un(c,t.options))return!1}else if(!At(t.queryKey,c))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||o&&o!==t.state.fetchStatus||a&&!a(t))}function Is(e,t){const{exact:n,status:s,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Pt(t.options.mutationKey)!==Pt(a))return!1}else if(!At(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function Un(e,t){return(t?.queryKeyHashFn||Pt)(e)}function Pt(e){return JSON.stringify(e,(t,n)=>xn(n)?Object.keys(n).sort().reduce((s,o)=>(s[o]=n[o],s),{}):n)}function At(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>At(e[n],t[n])):!1}var qm=Object.prototype.hasOwnProperty;function wa(e,t){if(e===t)return e;const n=Os(e)&&Os(t);if(!n&&!(xn(e)&&xn(t)))return t;const o=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),c=a.length,i=n?new Array(c):{};let d=0;for(let u=0;u<c;u++){const m=n?u:a[u],f=e[m],x=t[m];if(f===x){i[m]=f,(n?u<o:qm.call(e,m))&&d++;continue}if(f===null||x===null||typeof f!="object"||typeof x!="object"){i[m]=x;continue}const h=wa(f,x);i[m]=h,h===f&&d++}return o===c&&d===o?e:i}function Os(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xn(e){if(!Ds(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ds(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ds(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ym(e){return new Promise(t=>{hn.setTimeout(t,e)})}function Qm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?wa(e,t):t}function Xm(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function Zm(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Hn=Symbol();function ja(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Hn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Jm=class extends Rr{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Tr&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Na=new Jm;function eh(){let e,t;const n=new Promise((o,a)=>{e=o,t=a});n.status="pending",n.catch(()=>{});function s(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{s({status:"fulfilled",value:o}),e(o)},n.reject=o=>{s({status:"rejected",reason:o}),t(o)},n}var th=Um;function rh(){let e=[],t=0,n=i=>{i()},s=i=>{i()},o=th;const a=i=>{t?e.push(i):o(()=>{n(i)})},c=()=>{const i=e;e=[],i.length&&o(()=>{s(()=>{i.forEach(d=>{n(d)})})})};return{batch:i=>{let d;t++;try{d=i()}finally{t--,t||c()}return d},batchCalls:i=>(...d)=>{a(()=>{i(...d)})},schedule:a,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{s=i},setScheduler:i=>{o=i}}}var ae=rh(),nh=class extends Rr{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Tr&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},dr=new nh;function sh(e){return Math.min(1e3*2**e,3e4)}function Ca(e){return(e??"online")==="online"?dr.isOnline():!0}var gn=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Sa(e){let t=!1,n=0,s;const o=eh(),a=()=>o.status!=="pending",c=p=>{if(!a()){const g=new gn(p);x(g),e.onCancel?.(g)}},i=()=>{t=!0},d=()=>{t=!1},u=()=>Na.isFocused()&&(e.networkMode==="always"||dr.isOnline())&&e.canRun(),m=()=>Ca(e.networkMode)&&e.canRun(),f=p=>{a()||(s?.(),o.resolve(p))},x=p=>{a()||(s?.(),o.reject(p))},h=()=>new Promise(p=>{s=g=>{(a()||u())&&p(g)},e.onPause?.()}).then(()=>{s=void 0,a()||e.onContinue?.()}),v=()=>{if(a())return;let p;const g=n===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{if(a())return;const b=e.retry??(Tr?0:3),w=e.retryDelay??sh,j=typeof w=="function"?w(n,y):w,N=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(t||!N){x(y);return}n++,e.onFail?.(n,y),Ym(j).then(()=>u()?void 0:h()).then(()=>{t?x(y):v()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(s?.(),o),cancelRetry:i,continueRetry:d,canStart:m,start:()=>(m()?v():h().then(v),o)}}var Ea=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wm(this.gcTime)&&(this.#e=hn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(hn.clearTimeout(this.#e),this.#e=void 0)}},oh=class extends Ea{#e;#t;#r;#s;#n;#a;#i;constructor(e){super(),this.#i=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#r=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Fs(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Fs(this.options);t.data!==void 0&&(this.setState(Ls(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=Qm(this.state.data,e,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(je).catch(je):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Gm(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>pn(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Km(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const i=this.observers.find(d=>d.options.queryFn);i&&this.setOptions(i.options)}const n=new AbortController,s=i=>{Object.defineProperty(i,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},o=()=>{const i=ja(this.options,t),u=(()=>{const m={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(m),m})();return this.#i=!1,this.options.persister?this.options.persister(i,u,this):i(u)},c=(()=>{const i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return s(i),i})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#o({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=Sa({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:i=>{i instanceof gn&&i.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(i,d)=>{this.#o({type:"failed",failureCount:i,error:d})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const i=await this.#n.start();if(i===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(i),this.#r.config.onSuccess?.(i,this),this.#r.config.onSettled?.(i,this.state.error,this),i}catch(i){if(i instanceof gn){if(i.silent)return this.#n.promise;if(i.revert){if(this.state.data===void 0)throw i;return this.state.data}}throw this.#o({type:"error",error:i}),this.#r.config.onError?.(i,this),this.#r.config.onSettled?.(this.state.data,i,this),i}finally{this.scheduleGc()}}#o(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ah(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...Ls(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?s:void 0,s;case"error":const o=e.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),ae.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function ah(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ca(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ls(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Fs(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Bs(e){return{onFetch:(t,n)=>{const s=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let i={pages:[],pageParams:[]},d=0;const u=async()=>{let m=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=ja(t.options,t.fetchOptions),h=async(v,p,g)=>{if(m)return Promise.reject();if(p==null&&v.pages.length)return Promise.resolve(v);const b=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:p,direction:g?"backward":"forward",meta:t.options.meta};return f(E),E})(),w=await x(b),{maxPages:j}=t.options,N=g?Zm:Xm;return{pages:N(v.pages,w,j),pageParams:N(v.pageParams,p,j)}};if(o&&a.length){const v=o==="backward",p=v?ih:$s,g={pages:a,pageParams:c},y=p(s,g);i=await h(g,y,v)}else{const v=e??a.length;do{const p=d===0?c[0]??s.initialPageParam:$s(s,i);if(d>0&&p==null)break;i=await h(i,p),d++}while(d<v)}return i};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function $s(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function ih(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var ch=class extends Ea{#e;#t;#r;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||lh(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Sa({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,c)=>{this.#n({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const s=this.state.status==="pending",o=!this.#s.canStart();try{if(s)t();else{this.#n({type:"pending",variables:e,isPaused:o}),await this.#r.config.onMutate?.(e,this,n);const c=await this.options.onMutate?.(e,n);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:o})}const a=await this.#s.start();return await this.#r.config.onSuccess?.(a,e,this.state.context,this,n),await this.options.onSuccess?.(a,e,this.state.context,n),await this.#r.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,e,this.state.context,n),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#r.config.onError?.(a,e,this.state.context,this,n),await this.options.onError?.(a,e,this.state.context,n),await this.#r.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,a,e,this.state.context,n),a}finally{this.#n({type:"error",error:a})}}finally{this.#r.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ae.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function lh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dh=class extends Rr{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,n){const s=new ch({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#e.add(e);const t=qt(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=qt(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=qt(e);if(typeof t=="string"){const s=this.#t.get(t)?.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=qt(e);return typeof t=="string"?this.#t.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ae.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Is(t,n))}findAll(e={}){return this.getAll().filter(t=>Is(e,t))}notify(e){ae.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ae.batch(()=>Promise.all(e.map(t=>t.continue().catch(je))))}};function qt(e){return e.options.scope?.id}var uh=class extends Rr{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,o=t.queryHash??Un(s,t);let a=this.get(o);return a||(a=new oh({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ae.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ms(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Ms(e,n)):t}notify(e){ae.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ae.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ae.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fh=class{#e;#t;#r;#s;#n;#a;#i;#o;constructor(e={}){this.#e=e.queryCache||new uh,this.#t=e.mutationCache||new dh,this.#r=e.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#i=Na.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=dr.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(pn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(s.queryHash)?.state.data,c=Hm(t,a);if(c!==void 0)return this.#e.build(this,s).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return ae.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;ae.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return ae.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=ae.batch(()=>this.#e.findAll(e).map(o=>o.cancel(n)));return Promise.all(s).then(je).catch(je)}invalidateQueries(e,t={}){return ae.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=ae.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(je)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(je)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(pn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(je).catch(je)}fetchInfiniteQuery(e){return e.behavior=Bs(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(je).catch(je)}ensureInfiniteQueryData(e){return e.behavior=Bs(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dr.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#s.set(Pt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(s=>{At(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#n.set(Pt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],n={};return t.forEach(s=>{At(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Un(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Hn&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},mh=l.createContext(void 0),hh=({client:e,children:t})=>(l.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(mh.Provider,{value:e,children:t}));const ph={BASE_URL:"/bus-tracker/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyBsCFW0vfZ_sI1RGtD13ANApbtn3lc1e_g",VITE_PUBLIC_BUILDER_KEY:"__BUILDER_PUBLIC_KEY__",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwanFvbmZlYmFidGdxbHZyanJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1OTAzNzYsImV4cCI6MjA3ODE2NjM3Nn0.7F0AtYKWKqVoLu5HQljjX-nKR9brUT0RutdseA_gxKg",VITE_SUPABASE_URL:"https://ypjqonfebabtgqlvrjrr.supabase.co"};function xh(){const e=[],t="https://ypjqonfebabtgqlvrjrr.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwanFvbmZlYmFidGdxbHZyanJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1OTAzNzYsImV4cCI6MjA3ODE2NjM3Nn0.7F0AtYKWKqVoLu5HQljjX-nKR9brUT0RutdseA_gxKg",s="AIzaSyBsCFW0vfZ_sI1RGtD13ANApbtn3lc1e_g";if(e.length>0){const o=`

  Missing Environment Variables


The following environment variables are missing:

${e.map(a=>`   ${a}`).join(`
`)}

Please create a .env file in the project root with the
required variables. See .env.example for a template.


    `.trim();throw console.error(o),new Error("Missing required environment variables")}return{VITE_SUPABASE_URL:t,VITE_SUPABASE_ANON_KEY:n,VITE_GOOGLE_MAPS_API_KEY:s}}let ur;try{ur=xh()}catch(e){if(typeof window<"u"){e instanceof Error&&e.message;const t=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_GOOGLE_MAPS_API_KEY"].filter(n=>!ph[n]);document.body.innerHTML=`
      <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); font-family: system-ui, -apple-system, sans-serif;">
        <div style="background: white; border-radius: 12px; padding: 3rem; max-width: 600px; margin: 2rem; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
          <div style="text-align: center; margin-bottom: 2rem;">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <line x1="12" y1="8" x2="12" y2="12"/>
              <line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
          </div>
          <h1 style="font-size: 1.5rem; font-weight: bold; color: #1f2937; margin-bottom: 1rem;">Configuration Required</h1>
          <p style="color: #6b7280; margin-bottom: 1.5rem;">This application requires environment variables to be configured. Please set up your <code style="background: #f3f4f6; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace;">.env</code> file.</p>
          <div style="background: #fef2f2; border-left: 4px solid #dc2626; padding: 1rem; margin-bottom: 1.5rem;">
            <p style="font-weight: 600; color: #991b1b; margin-bottom: 0.5rem;">Missing Variables:</p>
            <ul style="color: #7f1d1d; font-size: 0.875rem; margin: 0; padding-left: 1.5rem;">
              ${t.map(n=>`<li>${n}</li>`).join("")}
            </ul>
          </div>
          <p style="color: #6b7280; font-size: 0.875rem;">Create a <code style="background: #f3f4f6; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace;">.env</code> file in the project root with these variables.</p>
        </div>
      </div>
    `}throw e}const Z=bc(ur.VITE_SUPABASE_URL,ur.VITE_SUPABASE_ANON_KEY);function he(e,t){if(!t||!e)return!1;const n=new Date(e.updated_at||e.created_at);return(new Date().getTime()-n.getTime())/1e3/60<=5}function Mt(e){if(!e)return"No data";const t=new Date(e.updated_at||e.created_at),s=Math.floor((new Date().getTime()-t.getTime())/1e3/60);return s<1?"Just now":s<60?`${s}m ago`:`${Math.floor(s/60)}h ago`}const _a=l.createContext(void 0);function gh({children:e}){const[t,n]=l.useState(null),[s,o]=l.useState(null),[a,c]=l.useState(!0);l.useEffect(()=>{Z.auth.getSession().then(({data:{session:x}})=>{o(x),n(x?.user??null),c(!1)});const{data:{subscription:f}}=Z.auth.onAuthStateChange((x,h)=>{o(h),n(h?.user??null),c(!1)});return()=>f.unsubscribe()},[]);const m={user:t,session:s,loading:a,signIn:async(f,x)=>{try{const{error:h}=await Z.auth.signInWithPassword({email:f,password:x});return{error:h}}catch(h){return{error:h}}},signUp:async(f,x)=>{try{const{error:h}=await Z.auth.signUp({email:f,password:x});return{error:h}}catch(h){return{error:h}}},signOut:async()=>{await Z.auth.signOut()}};return r.jsx(_a.Provider,{value:m,children:e})}function Pr(){const e=l.useContext(_a);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function ka({size:e="md",className:t,text:n}){const s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return r.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[r.jsx("div",{className:ee("animate-spin rounded-full border-4 border-primary/30 border-t-primary",s[e],t)}),n&&r.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:n})]})}function Ra({text:e="Loading..."}){return r.jsx("div",{className:"flex items-center justify-center min-h-[400px] w-full",children:r.jsx(ka,{size:"lg",text:e})})}function Ze({children:e}){const{user:t,loading:n}=Pr();return n?r.jsx(Ra,{text:"Loading..."}):t?r.jsx(r.Fragment,{children:e}):r.jsx(pc,{to:"/login",replace:!0})}function vh({isOpen:e=!0,onClose:t}){const n=eo(),s=pr(),{signOut:o,user:a}=Pr(),c=[{label:"Dashboard",href:"/",icon:Il},{label:"Buses",href:"/buses",icon:ze},{label:"Live Tracking",href:"/tracking",icon:sr},{label:"Schools",href:"/schools",icon:Ro},{label:"Students",href:"/students",icon:An},{label:"Routes",href:"/routes",icon:et}];return r.jsxs(r.Fragment,{children:[e&&t&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t}),r.jsxs("div",{className:ee("w-64 bg-sidebar border-r border-sidebar-border min-h-screen flex flex-col transition-transform duration-300 ease-in-out","fixed lg:static z-50",!e&&t&&"-translate-x-full lg:translate-x-0"),children:[r.jsx("div",{className:"p-6 border-b border-sidebar-border",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center",children:r.jsx(ze,{className:"w-6 h-6 text-sidebar-foreground"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-lg text-sidebar-foreground",children:"BusTrack"}),r.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Admin"})]})]}),t&&r.jsx("button",{onClick:t,className:"lg:hidden text-sidebar-foreground hover:text-sidebar-primary",children:r.jsx(Lt,{className:"w-6 h-6"})})]})}),r.jsx("nav",{className:"flex-1 px-3 py-6 space-y-2",children:c.map(i=>{const d=i.icon,u=n.pathname===i.href;return r.jsxs(xe,{to:i.href,onClick:t,className:ee("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200",u?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[r.jsx(d,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium text-sm",children:i.label})]},i.href)})}),r.jsxs("div",{className:"p-3 border-t border-sidebar-border space-y-2",children:[a&&r.jsxs("div",{className:"px-4 py-2 mb-2",children:[r.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Signed in as"}),r.jsx("p",{className:"text-sm text-sidebar-foreground font-medium truncate",children:a.email})]}),r.jsxs("button",{className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg text-sidebar-foreground hover:bg-sidebar-accent/10 transition-all duration-200",children:[r.jsx(Cd,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium text-sm",children:"Settings"})]}),r.jsxs("button",{onClick:async()=>{await o(),s("/login"),t&&t()},className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg text-sidebar-foreground hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[r.jsx(cd,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium text-sm",children:"Logout"})]})]})]})]})}var bh=Symbol.for("react.lazy"),fr=Nn[" use ".trim().toString()];function yh(e){return typeof e=="object"&&e!==null&&"then"in e}function Ta(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===bh&&"_payload"in e&&yh(e._payload)}function wh(e){const t=Nh(e),n=l.forwardRef((s,o)=>{let{children:a,...c}=s;Ta(a)&&typeof fr=="function"&&(a=fr(a._payload));const i=l.Children.toArray(a),d=i.find(Sh);if(d){const u=d.props.children,m=i.map(f=>f===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...c,ref:o,children:l.isValidElement(u)?l.cloneElement(u,void 0,m):null})}return r.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var jh=wh("Slot");function Nh(e){const t=l.forwardRef((n,s)=>{let{children:o,...a}=n;if(Ta(o)&&typeof fr=="function"&&(o=fr(o._payload)),l.isValidElement(o)){const c=_h(o),i=Eh(a,o.props);return o.type!==l.Fragment&&(i.ref=s?rt(s,c):c),l.cloneElement(o,i)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ch=Symbol("radix.slottable");function Sh(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ch}function Eh(e,t){const n={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...i)=>{const d=a(...i);return o(...i),d}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function _h(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const kh=_o("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=l.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...o},a)=>{const c=s?jh:"button";return r.jsx(c,{className:ee(kh({variant:t,size:n,className:e})),ref:a,...o})});Q.displayName="Button";function Rh({children:e}){const[t,n]=l.useState(!1);return r.jsxs("div",{className:"flex h-screen bg-background",children:[r.jsx(vh,{isOpen:t,onClose:()=>n(!1)}),r.jsxs("main",{className:"flex-1 overflow-auto",children:[r.jsx("div",{className:"lg:hidden sticky top-0 z-30 bg-background border-b border-border px-4 py-3",children:r.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>n(!0),className:"text-foreground",children:r.jsx(fd,{className:"w-6 h-6"})})}),e]})]})}const K=l.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));K.displayName="Card";const Th=l.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));Th.displayName="CardHeader";const Ph=l.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ph.displayName="CardTitle";const Ah=l.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));Ah.displayName="CardDescription";const Mh=l.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ee("p-6 pt-0",e),...t}));Mh.displayName="CardContent";const Ih=l.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ee("flex items-center p-6 pt-0",e),...t}));Ih.displayName="CardFooter";function Oh({title:e="Something went wrong",message:t="An unexpected error occurred. Please try again.",onRetry:n}){return r.jsx("div",{className:"flex items-center justify-center min-h-[400px] w-full p-4",children:r.jsxs(K,{className:"p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center",children:r.jsx(pt,{className:"w-8 h-8 text-destructive"})})}),r.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:e}),r.jsx("p",{className:"text-muted-foreground mb-6",children:t}),n&&r.jsxs(Q,{onClick:n,className:"gap-2",children:[r.jsx(Pn,{className:"w-4 h-4"}),"Try Again"]})]})})}function Dh({icon:e,title:t,description:n,action:s}){return r.jsx("div",{className:"flex items-center justify-center min-h-[400px] w-full p-4",children:r.jsxs("div",{className:"text-center max-w-md",children:[e&&r.jsx("div",{className:"flex justify-center mb-4 text-muted-foreground/30",children:e}),r.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:t}),n&&r.jsx("p",{className:"text-muted-foreground mb-6",children:n}),s&&r.jsx(Q,{onClick:s.onClick,children:s.label})]})})}function Lh(){const[e,t]=l.useState([]),[n,s]=l.useState({}),[o,a]=l.useState(!0),[c,i]=l.useState(null),[d,u]=l.useState({activeBuses:0,totalBuses:0,onlineNow:0,totalStudents:0});l.useEffect(()=>{m()},[]);const m=async()=>{try{a(!0),i(null);const{data:f,error:x}=await Z.from("buses").select("*").limit(10);if(x)throw console.error("Error fetching buses:",x.message||x),new Error(x.message||"Failed to fetch buses");if(t(f||[]),f&&f.length>0){const{data:h,error:v}=await Z.from("bus_locations").select("*").in("bus_id",f.map(p=>p.id));if(v)console.error("Error fetching bus locations:",v.message||v);else if(h){const p={};h.forEach(b=>{p[b.bus_id]=b}),s(p);const g=f.filter(b=>b.status==="active").length,y=f.filter(b=>he(p[b.id],b.has_gps)).length;u({activeBuses:g,totalBuses:f.length,onlineNow:y,totalStudents:0})}}else u({activeBuses:0,totalBuses:0,onlineNow:0,totalStudents:0})}catch(f){const x=f instanceof Error?f.message:String(f);console.error("Error fetching buses:",x),i(x)}finally{a(!1)}};return o?r.jsx(Ra,{text:"Loading dashboard..."}):c?r.jsx(Oh,{title:"Failed to load dashboard",message:c,onRetry:m}):r.jsxs("div",{className:"p-4 md:p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's your fleet overview."})]}),r.jsxs(Q,{variant:"outline",className:"flex items-center gap-2",onClick:()=>m(),disabled:o,children:[r.jsx(Pn,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Refresh"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Total Buses"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:d.totalBuses})]}),r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx(Td,{className:"w-6 h-6 text-primary"})})]})}),r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Active Buses"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:d.activeBuses})]}),r.jsx("div",{className:"w-12 h-12 bg-success/10 rounded-lg flex items-center justify-center",children:r.jsx(Po,{className:"w-6 h-6 text-success"})})]})}),r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Online Now"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:d.onlineNow})]}),r.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:r.jsx(pt,{className:"w-6 h-6 text-accent"})})]})}),r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Students Tracked"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:"0"})]}),r.jsx("div",{className:"w-12 h-12 bg-info/10 rounded-lg flex items-center justify-center",children:r.jsx(An,{className:"w-6 h-6 text-info"})})]})})]}),r.jsxs(K,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Active Buses"}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Real-time fleet status"})]}),r.jsx(xe,{to:"/buses",children:r.jsx(Q,{variant:"default",children:"View All Buses"})})]}),e.length===0?r.jsx(Dh,{icon:r.jsx(ze,{className:"w-16 h-16"}),title:"No buses in your fleet",description:"Start by adding your first bus to begin tracking.",action:{label:"Add a Bus",onClick:()=>window.location.href="/buses"}}):r.jsx("div",{className:"space-y-3",children:e.map(f=>r.jsx(xe,{to:`/buses/${f.id}`,children:r.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-secondary/50 transition-colors cursor-pointer",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-primary",children:f.bus_number})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-foreground",children:f.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.model,"  ",f.year]})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-foreground",children:[f.capacity," seats"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:f.status})]}),r.jsx("div",{className:`w-3 h-3 rounded-full ${he(n[f.id],f.has_gps)?"bg-success animate-pulse":"bg-muted"}`})]})]})},f.id))})]})]})}const F=l.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));F.displayName="Input";const Fh={width:"100%",height:"600px"},zs={lat:40.7128,lng:-74.006},Bh={zoom:13,mapTypeControl:!0,fullscreenControl:!0,streetViewControl:!1};function Ar({buses:e,selectedBusId:t,onBusSelect:n}){const{isLoaded:s,loadError:o}=dc({googleMapsApiKey:ur.VITE_GOOGLE_MAPS_API_KEY}),a=l.useRef(null),[c,i]=l.useState(null),[d,u]=l.useState(zs);return l.useEffect(()=>{if(t&&e.length>0){const m=e.find(f=>f.bus.id===t);m?.location&&u({lat:m.location.location.lat,lng:m.location.location.lng})}},[t,e]),o?r.jsx("div",{className:"w-full h-96 bg-destructive/10 rounded-lg flex items-center justify-center border-2 border-destructive/20",children:r.jsxs("div",{className:"text-center p-6",children:[r.jsx("p",{className:"text-destructive font-semibold mb-2",children:"Failed to load Google Maps"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Please check your API key configuration"})]})}):s?r.jsxs(uc,{ref:a,mapContainerStyle:Fh,center:d,options:Bh,children:[e.map(m=>{if(!m.location)return null;const f=t===m.bus.id;return r.jsx(fc,{position:{lat:m.location.location.lat,lng:m.location.location.lng},title:m.bus.name,onClick:()=>{i(m.bus.id),n?.(m.bus.id)},icon:{path:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z",scale:f?1.5:1,fillColor:f?"#0ea5e9":"#f59e0b",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}},m.bus.id)}),c&&r.jsx(mc,{position:e.find(m=>m.bus.id===c)?.location?.location||zs,onCloseClick:()=>i(null),children:r.jsx("div",{className:"p-2 text-sm",children:e.find(m=>m.bus.id===c)&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:e.find(m=>m.bus.id===c)?.bus.name}),r.jsx("p",{className:"text-gray-600 text-xs",children:e.find(m=>m.bus.id===c)?.bus.bus_number}),r.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Speed:"," ",e.find(m=>m.bus.id===c)?.location?.speed_kmh||0," ","km/h"]})]})})})]}):r.jsx("div",{className:"w-full h-96 bg-secondary rounded-lg flex items-center justify-center",children:r.jsx(ka,{text:"Loading map..."})})}function $h({isOpen:e,onClose:t,onSuccess:n}){const{toast:s}=vt(),[o,a]=l.useState(!1),[c,i]=l.useState([]),[d,u]=l.useState({school_id:"",supervisor_name:"",name:"",bus_number:"",license_plate:"",capacity:40,model:"",manufacturer:"",year:new Date().getFullYear(),vin:"",color:"",status:"active",has_wheelchair_lift:!1,has_gps:!1,last_maintenance_date:"",current_mileage:0});l.useEffect(()=>{e&&m()},[e]);const m=async()=>{try{const{data:h,error:v}=await Z.from("schools").select("*").order("name");if(v)throw v;i(h||[]),h&&h.length>0&&!d.school_id&&u(p=>({...p,school_id:h[0].id}))}catch(h){console.error("Error fetching schools:",h),s({title:"Error",description:"Failed to load schools. Please try again.",variant:"destructive"})}},f=h=>{const{name:v,value:p,type:g}=h.target;if(g==="checkbox"){const y=h.target.checked;u(b=>({...b,[v]:y}))}else u(g==="number"?y=>({...y,[v]:parseInt(p)||0}):y=>({...y,[v]:p}))},x=async h=>{if(h.preventDefault(),c.length===0){s({title:"No Schools Available",description:"Please add a school first before adding buses.",variant:"destructive"});return}a(!0);try{const{data:v,error:p}=await Z.from("buses").insert([d]).select();if(p)throw console.error("Supabase error:",p),new Error(p.message||p.details||"Failed to add bus");console.log("Bus added successfully:",v),s({title:"Success!",description:`Bus "${d.name}" has been added successfully.`,variant:"default"}),u({school_id:c[0]?.id||"",supervisor_name:"",name:"",bus_number:"",license_plate:"",capacity:40,model:"",manufacturer:"",year:new Date().getFullYear(),vin:"",color:"",status:"active",has_wheelchair_lift:!1,has_gps:!1,last_maintenance_date:"",current_mileage:0}),n(),t()}catch(v){console.error("Error adding bus:",v);let p="Failed to add bus. Please try again.";v?.message?p=v.message:typeof v=="string"&&(p=v),s({title:"Error",description:p,variant:"destructive"})}finally{a(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-card rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 flex items-center justify-between p-6 border-b border-border bg-card z-10",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Add New Bus"}),r.jsx("button",{onClick:t,disabled:o,className:"p-1 hover:bg-secondary rounded-lg transition-colors",children:r.jsx(Lt,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"School & Supervisor Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Select School *"}),c.length===0?r.jsx("div",{className:"p-4 bg-warning/10 border border-warning/20 rounded-lg",children:r.jsx("p",{className:"text-sm text-warning-foreground",children:"No schools available. Please add a school first."})}):r.jsx("select",{name:"school_id",value:d.school_id,onChange:f,required:!0,className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:c.map(h=>r.jsxs("option",{value:h.id,children:[h.name," - ",h.city,", ",h.state]},h.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Supervisor Name"}),r.jsx(F,{type:"text",name:"supervisor_name",value:d.supervisor_name,onChange:f,placeholder:"e.g., John Smith"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Name of the person responsible for this bus"})]})]})]}),r.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Bus Name *"}),r.jsx(F,{type:"text",name:"name",value:d.name,onChange:f,placeholder:"e.g., Bus A, Morning Route 1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Bus Number *"}),r.jsx(F,{type:"text",name:"bus_number",value:d.bus_number,onChange:f,placeholder:"e.g., 101",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"License Plate"}),r.jsx(F,{type:"text",name:"license_plate",value:d.license_plate,onChange:f,placeholder:"e.g., ABC-1234"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Capacity (seats)"}),r.jsx(F,{type:"number",name:"capacity",value:d.capacity,onChange:f,placeholder:"40",min:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Color"}),r.jsx(F,{type:"text",name:"color",value:d.color,onChange:f,placeholder:"e.g., Yellow"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Status"}),r.jsxs("select",{name:"status",value:d.status,onChange:f,className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"maintenance",children:"Maintenance"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})]}),r.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Vehicle Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Manufacturer"}),r.jsx(F,{type:"text",name:"manufacturer",value:d.manufacturer,onChange:f,placeholder:"e.g., Blue Bird, Thomas"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Model"}),r.jsx(F,{type:"text",name:"model",value:d.model,onChange:f,placeholder:"e.g., Vision, C2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Year"}),r.jsx(F,{type:"number",name:"year",value:d.year,onChange:f,placeholder:"2024",min:"1900",max:new Date().getFullYear()+1})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"VIN (Vehicle Identification Number)"}),r.jsx(F,{type:"text",name:"vin",value:d.vin,onChange:f,placeholder:"17-digit VIN",maxLength:17})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Maintenance & Features"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Current Mileage"}),r.jsx(F,{type:"number",name:"current_mileage",value:d.current_mileage,onChange:f,placeholder:"0",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Last Maintenance Date"}),r.jsx(F,{type:"date",name:"last_maintenance_date",value:d.last_maintenance_date,onChange:f})]})]}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"has_gps",checked:d.has_gps,onChange:f,className:"w-4 h-4 text-primary border-border rounded focus:ring-2 focus:ring-primary"}),r.jsx("span",{className:"text-sm font-medium text-foreground",children:"GPS Tracking Enabled"})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"has_wheelchair_lift",checked:d.has_wheelchair_lift,onChange:f,className:"w-4 h-4 text-primary border-border rounded focus:ring-2 focus:ring-primary"}),r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Wheelchair Lift Available"})]})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:t,disabled:o,children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:o||c.length===0,children:o?"Adding...":"Add Bus"})]})]})]})}):null}function zh(e,t){if(e.length===0){alert("No data to export");return}const n=Object.keys(e[0]),s=[n.join(","),...e.map(i=>n.map(d=>{const u=i[d];if(u==null)return"";const m=String(u);return m.includes(",")||m.includes('"')||m.includes(`
`)?`"${m.replace(/"/g,'""')}"`:m}).join(","))].join(`
`),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),c=URL.createObjectURL(o);a.setAttribute("href",c),a.setAttribute("download",`${t}_${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function Vh(){window.print()}function Uh(){vt();const[e,t]=l.useState([]),[n,s]=l.useState([]),[o,a]=l.useState({}),[c,i]=l.useState(),[d,u]=l.useState(""),[m,f]=l.useState(!0),[x,h]=l.useState("all"),[v,p]=l.useState("all"),[g,y]=l.useState("name"),[b,w]=l.useState("asc"),[j,N]=l.useState(!1),[E,_]=l.useState(new Set);l.useEffect(()=>{A()},[]);const A=async()=>{try{f(!0);const{data:C,error:M}=await Z.from("schools").select("*").order("name");M?console.error("Error fetching schools:",M.message||M):(s(C||[]),_(new Set((C||[]).map($=>$.id))));const{data:k,error:I}=await Z.from("buses").select("*").order("name");if(I)throw console.error("Error fetching buses:",I.message||I),new Error(I.message||"Failed to fetch buses");t(k||[]);const{data:P,error:S}=await Z.from("bus_locations").select("*").in("bus_id",(k||[]).map($=>$.id));if(S)console.error("Error fetching bus locations:",S.message||S);else if(P){const $={};P.forEach(X=>{$[X.bus_id]=X}),a($)}}catch(C){const M=C instanceof Error?C.message:String(C);console.error("Error fetching buses:",M)}finally{f(!1)}},L=C=>{_(M=>{const k=new Set(M);return k.has(C)?k.delete(C):k.add(C),k})};let D=e.filter(C=>{const M=C.name.toLowerCase().includes(d.toLowerCase())||C.bus_number.toLowerCase().includes(d.toLowerCase())||C.supervisor_name&&C.supervisor_name.toLowerCase().includes(d.toLowerCase()),k=x==="all"||x==="active"&&C.status==="active"||x==="maintenance"&&C.status==="maintenance"||x==="online"&&he(o[C.id],C.has_gps)||x==="offline"&&!he(o[C.id],C.has_gps),I=v==="all"||C.school_id===v;return M&&k&&I});D=[...D].sort((C,M)=>{let k=0;switch(g){case"name":k=C.name.localeCompare(M.name);break;case"number":k=C.bus_number.localeCompare(M.bus_number);break;case"status":k=C.status.localeCompare(M.status);break;case"school":const I=n.find(S=>S.id===C.school_id)?.name||"",P=n.find(S=>S.id===M.school_id)?.name||"";k=I.localeCompare(P);break;case"capacity":k=C.capacity-M.capacity;break}return b==="asc"?k:-k});const B=n.map(C=>({school:C,buses:D.filter(M=>M.school_id===C.id)})).filter(C=>C.buses.length>0),T=D.filter(C=>!n.find(M=>M.id===C.school_id)),G=D.map(C=>({bus:C,location:o[C.id]}));return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Buses"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor your fleet"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Q,{variant:"outline",className:"flex items-center gap-2",onClick:()=>A(),disabled:m,children:[r.jsx(Pn,{className:`w-4 h-4 ${m?"animate-spin":""}`}),"Refresh"]}),r.jsxs(Q,{className:"flex items-center gap-2",onClick:()=>N(!0),children:[r.jsx(yr,{className:"w-4 h-4"}),"Add Bus"]})]})]}),r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(wr,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),r.jsx(F,{placeholder:"Search buses...",value:d,onChange:C=>u(C.target.value),className:"pl-10"})]}),r.jsxs(Q,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(nd,{className:"w-4 h-4"}),"Filter"]}),r.jsxs("select",{value:x,onChange:C=>h(C.target.value),className:"px-4 py-2 border border-border rounded-lg bg-card text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Buses"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"online",children:"Online Now"})]})]}),r.jsxs(K,{className:"p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Real-Time Tracking Map"}),r.jsx(Ar,{buses:G,selectedBusId:c,onBusSelect:i})]}),r.jsx("div",{className:"space-y-4",children:m?r.jsx(K,{className:"p-12",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading buses..."})})}):B.length===0&&T.length===0?r.jsx(K,{className:"p-12",children:r.jsx("div",{className:"flex flex-col items-center justify-center",children:r.jsx("p",{className:"text-muted-foreground mb-4",children:"No buses found"})})}):r.jsxs(r.Fragment,{children:[B.map(({school:C,buses:M})=>r.jsxs(K,{className:"overflow-hidden",children:[r.jsxs("button",{onClick:()=>L(C.id),className:"w-full p-6 flex items-center justify-between hover:bg-secondary/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx(Ro,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-foreground",children:C.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.city,", ",C.state,"  ",M.length," ",M.length===1?"bus":"buses"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm px-3 py-1 bg-primary/10 text-primary rounded-full font-medium",children:[M.filter(k=>k.status==="active").length," Active"]}),E.has(C.id)?r.jsx(zl,{className:"w-5 h-5 text-muted-foreground"}):r.jsx(Ll,{className:"w-5 h-5 text-muted-foreground"})]})]}),E.has(C.id)&&r.jsx("div",{className:"p-6 pt-0 border-t border-border",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(k=>{const I=o[k.id],P=he(I,k.has_gps),S=Mt(I);return r.jsx(xe,{to:`/buses/${k.id}`,children:r.jsxs(K,{className:"p-4 border-2 hover:border-primary hover:shadow-lg transition-all cursor-pointer h-full",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-lg text-foreground",children:k.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Bus #",k.bus_number]}),k.supervisor_name&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" ",k.supervisor_name]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-1",children:[r.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${P?"bg-success/20 text-success":"bg-muted/20 text-muted-foreground"}`,children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${P?"bg-success":"bg-muted-foreground"} ${P?"animate-pulse":""}`}),P?"Online":"Offline"]}),I&&r.jsx("span",{className:"text-xs text-muted-foreground",children:S})]})]}),r.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Model:"}),r.jsx("span",{className:"font-medium text-foreground",children:k.model||"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Year:"}),r.jsx("span",{className:"font-medium text-foreground",children:k.year})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Capacity:"}),r.jsxs("span",{className:"font-medium text-foreground",children:[k.capacity," seats"]})]})]}),I&&r.jsxs("div",{className:"pt-4 border-t border-border flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(et,{className:"w-3 h-3"}),r.jsxs("span",{children:["Speed: ",I.speed_kmh," km/h"]})]}),k.status!=="active"&&r.jsxs("div",{className:"pt-4 border-t border-border flex items-center gap-2 text-xs text-warning",children:[r.jsx(or,{className:"w-3 h-3"}),r.jsxs("span",{children:["Status: ",k.status]})]})]})},k.id)})})})]},C.id)),T.length>0&&r.jsxs(K,{className:"p-6 border-warning/50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(or,{className:"w-5 h-5 text-warning"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Unassigned Buses"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.length," ",T.length===1?"bus":"buses"," without a school"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(C=>{const M=o[C.id],k=he(M,C.has_gps),I=Mt(M);return r.jsx(xe,{to:`/buses/${C.id}`,children:r.jsxs(K,{className:"p-4 border-2 hover:border-primary hover:shadow-lg transition-all cursor-pointer",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-lg text-foreground",children:C.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Bus #",C.bus_number]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-1",children:[r.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${k?"bg-success/20 text-success":"bg-muted/20 text-muted-foreground"}`,children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${k?"bg-success":"bg-muted-foreground"} ${k?"animate-pulse":""}`}),k?"Online":"Offline"]}),M&&r.jsx("span",{className:"text-xs text-muted-foreground",children:I})]})]}),r.jsx("div",{className:"text-sm text-center py-2 bg-warning/10 rounded",children:r.jsx("p",{className:"text-warning font-medium",children:"No school assigned"})})]})},C.id)})})]})]})}),r.jsx($h,{isOpen:j,onClose:()=>N(!1),onSuccess:A})]})}function Hh(e){const t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Mr="Checkbox",[Wh]=We(Mr),[Kh,Wn]=Wh(Mr);function Gh(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:o,disabled:a,form:c,name:i,onCheckedChange:d,required:u,value:m="on",internal_do_not_use_render:f}=e,[x,h]=gr({prop:n,defaultProp:o??!1,onChange:d,caller:Mr}),[v,p]=l.useState(null),[g,y]=l.useState(null),b=l.useRef(!1),w=v?!!c||!!v.closest("form"):!0,j={checked:x,disabled:a,setChecked:h,control:v,setControl:p,name:i,form:c,value:m,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Ve(o)?!1:o,isFormControl:w,bubbleInput:g,setBubbleInput:y};return r.jsx(Kh,{scope:t,...j,children:qh(f)?f(j):s})}var Pa="CheckboxTrigger",Aa=l.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},o)=>{const{control:a,value:c,disabled:i,checked:d,required:u,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:h,bubbleInput:v}=Wn(Pa,e),p=se(o,m),g=l.useRef(d);return l.useEffect(()=>{const y=a?.form;if(y){const b=()=>f(g.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[a,f]),r.jsx(te.button,{type:"button",role:"checkbox","aria-checked":Ve(d)?"mixed":d,"aria-required":u,"data-state":La(d),"data-disabled":i?"":void 0,disabled:i,value:c,...s,ref:p,onKeyDown:O(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:O(n,y=>{f(b=>Ve(b)?!0:!b),v&&h&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})})});Aa.displayName=Pa;var Kn=l.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:a,required:c,disabled:i,value:d,onCheckedChange:u,form:m,...f}=e;return r.jsx(Gh,{__scopeCheckbox:n,checked:o,defaultChecked:a,disabled:i,required:c,onCheckedChange:u,name:s,form:m,value:d,internal_do_not_use_render:({isFormControl:x})=>r.jsxs(r.Fragment,{children:[r.jsx(Aa,{...f,ref:t,__scopeCheckbox:n}),x&&r.jsx(Da,{__scopeCheckbox:n})]})})});Kn.displayName=Mr;var Ma="CheckboxIndicator",Ia=l.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...o}=e,a=Wn(Ma,n);return r.jsx(Ke,{present:s||Ve(a.checked)||a.checked===!0,children:r.jsx(te.span,{"data-state":La(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Ia.displayName=Ma;var Oa="CheckboxBubbleInput",Da=l.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:c,required:i,disabled:d,name:u,value:m,form:f,bubbleInput:x,setBubbleInput:h}=Wn(Oa,e),v=se(n,h),p=Hh(a),g=ea(s);l.useEffect(()=>{const b=x;if(!b)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,E=!o.current;if(p!==a&&N){const _=new Event("click",{bubbles:E});b.indeterminate=Ve(a),N.call(b,Ve(a)?!1:a),b.dispatchEvent(_)}},[x,p,a,o]);const y=l.useRef(Ve(a)?!1:a);return r.jsx(te.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??y.current,required:i,disabled:d,name:u,value:m,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Da.displayName=Oa;function qh(e){return typeof e=="function"}function Ve(e){return e==="indeterminate"}function La(e){return Ve(e)?"indeterminate":e?"checked":"unchecked"}const vn=l.forwardRef(({className:e,...t},n)=>r.jsx(Kn,{ref:n,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(Ia,{className:ee("flex items-center justify-center text-current"),children:r.jsx(To,{className:"h-4 w-4"})})}));vn.displayName=Kn.displayName;function Yh({bus:e,isOpen:t,onClose:n,onSuccess:s}){const{toast:o}=vt(),[a,c]=l.useState(!1),[i,d]=l.useState([]),[u,m]=l.useState({school_id:e.school_id,supervisor_name:e.supervisor_name||"",name:e.name,bus_number:e.bus_number,license_plate:e.license_plate,capacity:e.capacity,model:e.model,manufacturer:e.manufacturer,year:e.year,vin:e.vin,color:e.color,status:e.status,has_wheelchair_lift:e.has_wheelchair_lift,has_gps:e.has_gps,last_maintenance_date:e.last_maintenance_date||"",current_mileage:e.current_mileage});l.useEffect(()=>{t&&(f(),m({school_id:e.school_id,supervisor_name:e.supervisor_name||"",name:e.name,bus_number:e.bus_number,license_plate:e.license_plate,capacity:e.capacity,model:e.model,manufacturer:e.manufacturer,year:e.year,vin:e.vin,color:e.color,status:e.status,has_wheelchair_lift:e.has_wheelchair_lift,has_gps:e.has_gps,last_maintenance_date:e.last_maintenance_date||"",current_mileage:e.current_mileage}))},[t,e]);const f=async()=>{try{const{data:v,error:p}=await Z.from("schools").select("*").order("name");p?console.error("Error fetching schools:",p):d(v||[])}catch(v){console.error("Error fetching schools:",v)}},x=v=>{const{name:p,value:g,type:y}=v.target,b=v.target.checked;m(w=>({...w,[p]:y==="checkbox"?b:g}))},h=async v=>{v.preventDefault(),c(!0);try{const{data:p,error:g}=await Z.from("buses").update(u).eq("id",e.id).select();if(g)throw console.error("Supabase error:",g),new Error(g.message||g.details||"Failed to update bus");o({title:"Success!",description:`Bus "${u.name}" has been updated successfully.`,variant:"default"}),s(),n()}catch(p){console.error("Error updating bus:",p);let g="Failed to update bus. Please try again.";p?.message?g=p.message:typeof p=="string"&&(g=p),o({title:"Error",description:g,variant:"destructive"})}finally{c(!1)}};return t?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-card rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 flex items-center justify-between p-6 border-b border-border bg-card z-10",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Edit Bus"}),r.jsx("button",{onClick:n,disabled:a,className:"p-1 hover:bg-secondary rounded-lg transition-colors",children:r.jsx(Lt,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"School & Supervisor Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Select School *"}),i.length===0?r.jsx("div",{className:"p-4 bg-warning/10 border border-warning/20 rounded-lg",children:r.jsx("p",{className:"text-sm text-warning-foreground",children:"No schools available. Please add a school first."})}):r.jsx("select",{name:"school_id",value:u.school_id,onChange:x,required:!0,className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:i.map(v=>r.jsxs("option",{value:v.id,children:[v.name," - ",v.city,", ",v.state]},v.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Supervisor Name"}),r.jsx(F,{type:"text",name:"supervisor_name",value:u.supervisor_name,onChange:x,placeholder:"e.g., John Smith"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Name of the person responsible for this bus"})]})]})]}),r.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Bus Name *"}),r.jsx(F,{type:"text",name:"name",value:u.name,onChange:x,required:!0,placeholder:"e.g., School Bus A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Bus Number *"}),r.jsx(F,{type:"text",name:"bus_number",value:u.bus_number,onChange:x,required:!0,placeholder:"e.g., 101"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"License Plate"}),r.jsx(F,{type:"text",name:"license_plate",value:u.license_plate,onChange:x,placeholder:"e.g., ABC-1234"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Capacity (seats) *"}),r.jsx(F,{type:"number",name:"capacity",value:u.capacity,onChange:x,required:!0,min:"1",placeholder:"e.g., 40"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Status *"}),r.jsxs("select",{name:"status",value:u.status,onChange:x,required:!0,className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"maintenance",children:"Maintenance"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"retired",children:"Retired"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Color"}),r.jsx(F,{type:"text",name:"color",value:u.color,onChange:x,placeholder:"e.g., Yellow"})]})]})]}),r.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Vehicle Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Manufacturer"}),r.jsx(F,{type:"text",name:"manufacturer",value:u.manufacturer,onChange:x,placeholder:"e.g., Blue Bird"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Model"}),r.jsx(F,{type:"text",name:"model",value:u.model,onChange:x,placeholder:"e.g., Vision"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Year *"}),r.jsx(F,{type:"number",name:"year",value:u.year,onChange:x,required:!0,min:"1900",max:new Date().getFullYear()+1,placeholder:"e.g., 2023"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"VIN"}),r.jsx(F,{type:"text",name:"vin",value:u.vin,onChange:x,placeholder:"e.g., 1HGBH41JXMN109186"})]})]})]}),r.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Maintenance & Mileage"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Last Maintenance Date"}),r.jsx(F,{type:"date",name:"last_maintenance_date",value:u.last_maintenance_date,onChange:x})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Current Mileage"}),r.jsx(F,{type:"number",name:"current_mileage",value:u.current_mileage,onChange:x,min:"0",placeholder:"e.g., 45000"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Features"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vn,{id:"has_gps",name:"has_gps",checked:u.has_gps,onCheckedChange:v=>m(p=>({...p,has_gps:v}))}),r.jsx("label",{htmlFor:"has_gps",className:"text-sm font-medium text-foreground cursor-pointer",children:"GPS Tracking System"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vn,{id:"has_wheelchair_lift",name:"has_wheelchair_lift",checked:u.has_wheelchair_lift,onCheckedChange:v=>m(p=>({...p,has_wheelchair_lift:v}))}),r.jsx("label",{htmlFor:"has_wheelchair_lift",className:"text-sm font-medium text-foreground cursor-pointer",children:"Wheelchair Lift"})]})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:n,disabled:a,children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:a,children:a?"Updating...":"Update Bus"})]})]})]})}):null}function Qh({isOpen:e,title:t,message:n,confirmText:s="Confirm",cancelText:o="Cancel",variant:a="default",onConfirm:c,onCancel:i,loading:d=!1}){return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-card rounded-lg shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a==="destructive"&&r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-destructive/10 rounded-full flex items-center justify-center",children:r.jsx(or,{className:"w-6 h-6 text-destructive"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:t}),r.jsx("p",{className:"text-muted-foreground",children:n})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[r.jsx(Q,{variant:"outline",onClick:i,disabled:d,children:o}),r.jsx(Q,{variant:a==="destructive"?"destructive":"default",onClick:c,disabled:d,children:d?"Processing...":s})]})]})})}):null}var Xh=l.createContext(void 0);function Fa(e){const t=l.useContext(Xh);return e||t||"ltr"}var Gr=0;function Zh(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vs()),document.body.insertAdjacentElement("beforeend",e[1]??Vs()),Gr++,()=>{Gr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gr--}},[])}function Vs(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qr="focusScope.autoFocusOnMount",Yr="focusScope.autoFocusOnUnmount",Us={bubbles:!1,cancelable:!0},Jh="FocusScope",Ba=l.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=e,[i,d]=l.useState(null),u=fe(o),m=fe(a),f=l.useRef(null),x=se(t,p=>d(p)),h=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(s){let p=function(w){if(h.paused||!i)return;const j=w.target;i.contains(j)?f.current=j:Be(f.current,{select:!0})},g=function(w){if(h.paused||!i)return;const j=w.relatedTarget;j!==null&&(i.contains(j)||Be(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Be(i)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const b=new MutationObserver(y);return i&&b.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),b.disconnect()}}},[s,i,h.paused]),l.useEffect(()=>{if(i){Ws.add(h);const p=document.activeElement;if(!i.contains(p)){const y=new CustomEvent(qr,Us);i.addEventListener(qr,u),i.dispatchEvent(y),y.defaultPrevented||(ep(op($a(i)),{select:!0}),document.activeElement===p&&Be(i))}return()=>{i.removeEventListener(qr,u),setTimeout(()=>{const y=new CustomEvent(Yr,Us);i.addEventListener(Yr,m),i.dispatchEvent(y),y.defaultPrevented||Be(p??document.body,{select:!0}),i.removeEventListener(Yr,m),Ws.remove(h)},0)}}},[i,u,m,h]);const v=l.useCallback(p=>{if(!n&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const b=p.currentTarget,[w,j]=tp(b);w&&j?!p.shiftKey&&y===j?(p.preventDefault(),n&&Be(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),n&&Be(j,{select:!0})):y===b&&p.preventDefault()}},[n,s,h.paused]);return r.jsx(te.div,{tabIndex:-1,...c,ref:x,onKeyDown:v})});Ba.displayName=Jh;function ep(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Be(s,{select:t}),document.activeElement!==n)return}function tp(e){const t=$a(e),n=Hs(t,e),s=Hs(t.reverse(),e);return[n,s]}function $a(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hs(e,t){for(const n of e)if(!rp(n,{upTo:t}))return n}function rp(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function np(e){return e instanceof HTMLInputElement&&"select"in e}function Be(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&np(e)&&t&&e.select()}}var Ws=sp();function sp(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Ks(e,t),e.unshift(t)},remove(t){e=Ks(e,t),e[0]?.resume()}}}function Ks(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function op(e){return e.filter(t=>t.tagName!=="A")}var Qr="rovingFocusGroup.onEntryFocus",ap={bubbles:!1,cancelable:!0},Bt="RovingFocusGroup",[bn,za,ip]=Cn(Bt),[cp,Va]=We(Bt,[ip]),[lp,dp]=cp(Bt),Ua=l.forwardRef((e,t)=>r.jsx(bn.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(bn.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(up,{...e,ref:t})})}));Ua.displayName=Bt;var up=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...f}=e,x=l.useRef(null),h=se(t,x),v=Fa(a),[p,g]=gr({prop:c,defaultProp:i??null,onChange:d,caller:Bt}),[y,b]=l.useState(!1),w=fe(u),j=za(n),N=l.useRef(!1),[E,_]=l.useState(0);return l.useEffect(()=>{const A=x.current;if(A)return A.addEventListener(Qr,w),()=>A.removeEventListener(Qr,w)},[w]),r.jsx(lp,{scope:n,orientation:s,dir:v,loop:o,currentTabStopId:p,onItemFocus:l.useCallback(A=>g(A),[g]),onItemShiftTab:l.useCallback(()=>b(!0),[]),onFocusableItemAdd:l.useCallback(()=>_(A=>A+1),[]),onFocusableItemRemove:l.useCallback(()=>_(A=>A-1),[]),children:r.jsx(te.div,{tabIndex:y||E===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:O(e.onMouseDown,()=>{N.current=!0}),onFocus:O(e.onFocus,A=>{const L=!N.current;if(A.target===A.currentTarget&&L&&!y){const D=new CustomEvent(Qr,ap);if(A.currentTarget.dispatchEvent(D),!D.defaultPrevented){const B=j().filter(k=>k.focusable),T=B.find(k=>k.active),G=B.find(k=>k.id===p),M=[T,G,...B].filter(Boolean).map(k=>k.ref.current);Ka(M,m)}}N.current=!1}),onBlur:O(e.onBlur,()=>b(!1))})})}),Ha="RovingFocusGroupItem",Wa=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:a,children:c,...i}=e,d=ln(),u=a||d,m=dp(Ha,n),f=m.currentTabStopId===u,x=za(n),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:p}=m;return l.useEffect(()=>{if(s)return h(),()=>v()},[s,h,v]),r.jsx(bn.ItemSlot,{scope:n,id:u,focusable:s,active:o,children:r.jsx(te.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...i,ref:t,onMouseDown:O(e.onMouseDown,g=>{s?m.onItemFocus(u):g.preventDefault()}),onFocus:O(e.onFocus,()=>m.onItemFocus(u)),onKeyDown:O(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){m.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=hp(g,m.orientation,m.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=x().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const j=w.indexOf(g.currentTarget);w=m.loop?pp(w,j+1):w.slice(j+1)}setTimeout(()=>Ka(w))}}),children:typeof c=="function"?c({isCurrentTabStop:f,hasTabStop:p!=null}):c})})});Wa.displayName=Ha;var fp={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mp(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hp(e,t,n){const s=mp(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return fp[s]}function Ka(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function pp(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var xp=Ua,gp=Wa;function vp(e){const t=bp(e),n=l.forwardRef((s,o)=>{const{children:a,...c}=s,i=l.Children.toArray(a),d=i.find(wp);if(d){const u=d.props.children,m=i.map(f=>f===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...c,ref:o,children:l.isValidElement(u)?l.cloneElement(u,void 0,m):null})}return r.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function bp(e){const t=l.forwardRef((n,s)=>{const{children:o,...a}=n;if(l.isValidElement(o)){const c=Np(o),i=jp(a,o.props);return o.type!==l.Fragment&&(i.ref=s?rt(s,c):c),l.cloneElement(o,i)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yp=Symbol("radix.slottable");function wp(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yp}function jp(e,t){const n={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...i)=>{const d=a(...i);return o(...i),d}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function Np(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Cp=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},lt=new WeakMap,Yt=new WeakMap,Qt={},Xr=0,Ga=function(e){return e&&(e.host||Ga(e.parentNode))},Sp=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Ga(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ep=function(e,t,n,s){var o=Sp(t,Array.isArray(e)?e:[e]);Qt[n]||(Qt[n]=new WeakMap);var a=Qt[n],c=[],i=new Set,d=new Set(o),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};o.forEach(u);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(x){if(i.has(x))m(x);else try{var h=x.getAttribute(s),v=h!==null&&h!=="false",p=(lt.get(x)||0)+1,g=(a.get(x)||0)+1;lt.set(x,p),a.set(x,g),c.push(x),p===1&&v&&Yt.set(x,!0),g===1&&x.setAttribute(n,"true"),v||x.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",x,y)}})};return m(t),i.clear(),Xr++,function(){c.forEach(function(f){var x=lt.get(f)-1,h=a.get(f)-1;lt.set(f,x),a.set(f,h),x||(Yt.has(f)||f.removeAttribute(s),Yt.delete(f)),h||f.removeAttribute(n)}),Xr--,Xr||(lt=new WeakMap,lt=new WeakMap,Yt=new WeakMap,Qt={})}},_p=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=Cp(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),Ep(s,o,n,"aria-hidden")):function(){return null}},rr="right-scroll-bar-position",nr="width-before-scroll-bar",kp="with-scroll-bars-hidden",Rp="--removed-body-scroll-bar-size";function Zr(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Tp(e,t){var n=l.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var Pp=typeof window<"u"?l.useLayoutEffect:l.useEffect,Gs=new WeakMap;function Ap(e,t){var n=Tp(null,function(s){return e.forEach(function(o){return Zr(o,s)})});return Pp(function(){var s=Gs.get(n);if(s){var o=new Set(s),a=new Set(e),c=n.current;o.forEach(function(i){a.has(i)||Zr(i,null)}),a.forEach(function(i){o.has(i)||Zr(i,c)})}Gs.set(n,e)},[e]),n}function Mp(e){return e}function Ip(e,t){t===void 0&&(t=Mp);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var c=t(a,s);return n.push(c),function(){n=n.filter(function(i){return i!==c})}},assignSyncMedium:function(a){for(s=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(i){return a(i)},filter:function(){return n}}},assignMedium:function(a){s=!0;var c=[];if(n.length){var i=n;n=[],i.forEach(a),c=n}var d=function(){var m=c;c=[],m.forEach(a)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(m){c.push(m),u()},filter:function(m){return c=c.filter(m),n}}}};return o}function Op(e){e===void 0&&(e={});var t=Ip(null);return t.options=$e({async:!0,ssr:!1},e),t}var qa=function(e){var t=e.sideCar,n=to(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return l.createElement(s,$e({},n))};qa.isSideCarExport=!0;function Dp(e,t){return e.useMedium(t),qa}var Ya=Op(),Jr=function(){},Ir=l.forwardRef(function(e,t){var n=l.useRef(null),s=l.useState({onScrollCapture:Jr,onWheelCapture:Jr,onTouchMoveCapture:Jr}),o=s[0],a=s[1],c=e.forwardProps,i=e.children,d=e.className,u=e.removeScrollBar,m=e.enabled,f=e.shards,x=e.sideCar,h=e.noRelative,v=e.noIsolation,p=e.inert,g=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,j=to(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=x,E=Ap([n,t]),_=$e($e({},j),o);return l.createElement(l.Fragment,null,m&&l.createElement(N,{sideCar:Ya,removeScrollBar:u,shards:f,noRelative:h,noIsolation:v,inert:p,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:w}),c?l.cloneElement(l.Children.only(i),$e($e({},_),{ref:E})):l.createElement(b,$e({},_,{className:d,ref:E}),i))});Ir.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ir.classNames={fullWidth:nr,zeroRight:rr};var Lp=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fp(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Lp();return t&&e.setAttribute("nonce",t),e}function Bp(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $p(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zp=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Fp())&&(Bp(t,n),$p(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Vp=function(){var e=zp();return function(t,n){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Qa=function(){var e=Vp(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},Up={left:0,top:0,right:0,gap:0},en=function(e){return parseInt(e||"",10)||0},Hp=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[en(n),en(s),en(o)]},Wp=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Up;var t=Hp(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Kp=Qa(),ht="data-scroll-locked",Gp=function(e,t,n,s){var o=e.left,a=e.top,c=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(kp,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(i,"px ").concat(s,`;
  }
  body[`).concat(ht,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rr,` {
    right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(nr,` {
    margin-right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(rr," .").concat(rr,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(nr," .").concat(nr,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ht,`] {
    `).concat(Rp,": ").concat(i,`px;
  }
`)},qs=function(){var e=parseInt(document.body.getAttribute(ht)||"0",10);return isFinite(e)?e:0},qp=function(){l.useEffect(function(){return document.body.setAttribute(ht,(qs()+1).toString()),function(){var e=qs()-1;e<=0?document.body.removeAttribute(ht):document.body.setAttribute(ht,e.toString())}},[])},Yp=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;qp();var a=l.useMemo(function(){return Wp(o)},[o]);return l.createElement(Kp,{styles:Gp(a,!t,o,n?"":"!important")})},yn=!1;if(typeof window<"u")try{var Xt=Object.defineProperty({},"passive",{get:function(){return yn=!0,!0}});window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{yn=!1}var dt=yn?{passive:!1}:!1,Qp=function(e){return e.tagName==="TEXTAREA"},Xa=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Qp(e)&&n[t]==="visible")},Xp=function(e){return Xa(e,"overflowY")},Zp=function(e){return Xa(e,"overflowX")},Ys=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=Za(e,s);if(o){var a=Ja(e,s),c=a[1],i=a[2];if(c>i)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Jp=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},ex=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},Za=function(e,t){return e==="v"?Xp(t):Zp(t)},Ja=function(e,t){return e==="v"?Jp(t):ex(t)},tx=function(e,t){return e==="h"&&t==="rtl"?-1:1},rx=function(e,t,n,s,o){var a=tx(e,window.getComputedStyle(t).direction),c=a*s,i=n.target,d=t.contains(i),u=!1,m=c>0,f=0,x=0;do{if(!i)break;var h=Ja(e,i),v=h[0],p=h[1],g=h[2],y=p-g-a*v;(v||y)&&Za(e,i)&&(f+=y,x+=v);var b=i.parentNode;i=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!d&&i!==document.body||d&&(t.contains(i)||t===i));return(m&&Math.abs(f)<1||!m&&Math.abs(x)<1)&&(u=!0),u},Zt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qs=function(e){return[e.deltaX,e.deltaY]},Xs=function(e){return e&&"current"in e?e.current:e},nx=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sx=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ox=0,ut=[];function ax(e){var t=l.useRef([]),n=l.useRef([0,0]),s=l.useRef(),o=l.useState(ox++)[0],a=l.useState(Qa)[0],c=l.useRef(e);l.useEffect(function(){c.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=yc([e.lockRef.current],(e.shards||[]).map(Xs),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=l.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!c.current.allowPinchZoom;var y=Zt(p),b=n.current,w="deltaX"in p?p.deltaX:b[0]-y[0],j="deltaY"in p?p.deltaY:b[1]-y[1],N,E=p.target,_=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&_==="h"&&E.type==="range")return!1;var A=Ys(_,E);if(!A)return!0;if(A?N=_:(N=_==="v"?"h":"v",A=Ys(_,E)),!A)return!1;if(!s.current&&"changedTouches"in p&&(w||j)&&(s.current=N),!N)return!0;var L=s.current||N;return rx(L,g,p,L==="h"?w:j)},[]),d=l.useCallback(function(p){var g=p;if(!(!ut.length||ut[ut.length-1]!==a)){var y="deltaY"in g?Qs(g):Zt(g),b=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&nx(N.delta,y)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(c.current.shards||[]).map(Xs).filter(Boolean).filter(function(N){return N.contains(g.target)}),j=w.length>0?i(g,w[0]):!c.current.noIsolation;j&&g.cancelable&&g.preventDefault()}}},[]),u=l.useCallback(function(p,g,y,b){var w={name:p,delta:g,target:y,should:b,shadowParent:ix(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),m=l.useCallback(function(p){n.current=Zt(p),s.current=void 0},[]),f=l.useCallback(function(p){u(p.type,Qs(p),p.target,i(p,e.lockRef.current))},[]),x=l.useCallback(function(p){u(p.type,Zt(p),p.target,i(p,e.lockRef.current))},[]);l.useEffect(function(){return ut.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:x}),document.addEventListener("wheel",d,dt),document.addEventListener("touchmove",d,dt),document.addEventListener("touchstart",m,dt),function(){ut=ut.filter(function(p){return p!==a}),document.removeEventListener("wheel",d,dt),document.removeEventListener("touchmove",d,dt),document.removeEventListener("touchstart",m,dt)}},[]);var h=e.removeScrollBar,v=e.inert;return l.createElement(l.Fragment,null,v?l.createElement(a,{styles:sx(o)}):null,h?l.createElement(Yp,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ix(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cx=Dp(Ya,ax);var ei=l.forwardRef(function(e,t){return l.createElement(Ir,$e({},e,{ref:t,sideCar:cx}))});ei.classNames=Ir.classNames;var wn=["Enter"," "],lx=["ArrowDown","PageUp","Home"],ti=["ArrowUp","PageDown","End"],dx=[...lx,...ti],ux={ltr:[...wn,"ArrowRight"],rtl:[...wn,"ArrowLeft"]},fx={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$t="Menu",[It,mx,hx]=Cn($t),[nt,ri]=We($t,[hx,Er,Va]),Or=Er(),ni=Va(),[px,st]=nt($t),[xx,zt]=nt($t),si=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:o,onOpenChange:a,modal:c=!0}=e,i=Or(t),[d,u]=l.useState(null),m=l.useRef(!1),f=fe(a),x=Fa(o);return l.useEffect(()=>{const h=()=>{m.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>m.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),r.jsx(bm,{...i,children:r.jsx(px,{scope:t,open:n,onOpenChange:f,content:d,onContentChange:u,children:r.jsx(xx,{scope:t,onClose:l.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:m,dir:x,modal:c,children:s})})})};si.displayName=$t;var gx="MenuAnchor",Gn=l.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=Or(n);return r.jsx(da,{...o,...s,ref:t})});Gn.displayName=gx;var qn="MenuPortal",[vx,oi]=nt(qn,{forceMount:void 0}),ai=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:o}=e,a=st(qn,t);return r.jsx(vx,{scope:t,forceMount:n,children:r.jsx(Ke,{present:n||a.open,children:r.jsx(En,{asChild:!0,container:o,children:s})})})};ai.displayName=qn;var pe="MenuContent",[bx,Yn]=nt(pe),ii=l.forwardRef((e,t)=>{const n=oi(pe,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,a=st(pe,e.__scopeMenu),c=zt(pe,e.__scopeMenu);return r.jsx(It.Provider,{scope:e.__scopeMenu,children:r.jsx(Ke,{present:s||a.open,children:r.jsx(It.Slot,{scope:e.__scopeMenu,children:c.modal?r.jsx(yx,{...o,ref:t}):r.jsx(wx,{...o,ref:t})})})})}),yx=l.forwardRef((e,t)=>{const n=st(pe,e.__scopeMenu),s=l.useRef(null),o=se(t,s);return l.useEffect(()=>{const a=s.current;if(a)return _p(a)},[]),r.jsx(Qn,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:O(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),wx=l.forwardRef((e,t)=>{const n=st(pe,e.__scopeMenu);return r.jsx(Qn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),jx=vp("MenuContent.ScrollLock"),Qn=l.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:i,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:x,onDismiss:h,disableOutsideScroll:v,...p}=e,g=st(pe,n),y=zt(pe,n),b=Or(n),w=ni(n),j=mx(n),[N,E]=l.useState(null),_=l.useRef(null),A=se(t,_,g.onContentChange),L=l.useRef(0),D=l.useRef(""),B=l.useRef(0),T=l.useRef(null),G=l.useRef("right"),C=l.useRef(0),M=v?ei:l.Fragment,k=v?{as:jx,allowPinchZoom:!0}:void 0,I=S=>{const $=D.current+S,X=j().filter(V=>!V.disabled),H=document.activeElement,q=X.find(V=>V.ref.current===H)?.textValue,Y=X.map(V=>V.textValue),oe=Ix(Y,$,q),ce=X.find(V=>V.textValue===oe)?.ref.current;(function V(Re){D.current=Re,window.clearTimeout(L.current),Re!==""&&(L.current=window.setTimeout(()=>V(""),1e3))})($),ce&&setTimeout(()=>ce.focus())};l.useEffect(()=>()=>window.clearTimeout(L.current),[]),Zh();const P=l.useCallback(S=>G.current===T.current?.side&&Dx(S,T.current?.area),[]);return r.jsx(bx,{scope:n,searchRef:D,onItemEnter:l.useCallback(S=>{P(S)&&S.preventDefault()},[P]),onItemLeave:l.useCallback(S=>{P(S)||(_.current?.focus(),E(null))},[P]),onTriggerLeave:l.useCallback(S=>{P(S)&&S.preventDefault()},[P]),pointerGraceTimerRef:B,onPointerGraceIntentChange:l.useCallback(S=>{T.current=S},[]),children:r.jsx(M,{...k,children:r.jsx(Ba,{asChild:!0,trapped:o,onMountAutoFocus:O(a,S=>{S.preventDefault(),_.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:r.jsx(xr,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:x,onDismiss:h,children:r.jsx(xp,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:E,onEntryFocus:O(d,S=>{y.isUsingKeyboardRef.current||S.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(ua,{role:"menu","aria-orientation":"vertical","data-state":Ni(g.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:A,style:{outline:"none",...p.style},onKeyDown:O(p.onKeyDown,S=>{const X=S.target.closest("[data-radix-menu-content]")===S.currentTarget,H=S.ctrlKey||S.altKey||S.metaKey,q=S.key.length===1;X&&(S.key==="Tab"&&S.preventDefault(),!H&&q&&I(S.key));const Y=_.current;if(S.target!==Y||!dx.includes(S.key))return;S.preventDefault();const ce=j().filter(V=>!V.disabled).map(V=>V.ref.current);ti.includes(S.key)&&ce.reverse(),Ax(ce)}),onBlur:O(e.onBlur,S=>{S.currentTarget.contains(S.target)||(window.clearTimeout(L.current),D.current="")}),onPointerMove:O(e.onPointerMove,Ot(S=>{const $=S.target,X=C.current!==S.clientX;if(S.currentTarget.contains($)&&X){const H=S.clientX>C.current?"right":"left";G.current=H,C.current=S.clientX}}))})})})})})})});ii.displayName=pe;var Nx="MenuGroup",Xn=l.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(te.div,{role:"group",...s,ref:t})});Xn.displayName=Nx;var Cx="MenuLabel",ci=l.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(te.div,{...s,ref:t})});ci.displayName=Cx;var mr="MenuItem",Zs="menu.itemSelect",Dr=l.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...o}=e,a=l.useRef(null),c=zt(mr,e.__scopeMenu),i=Yn(mr,e.__scopeMenu),d=se(t,a),u=l.useRef(!1),m=()=>{const f=a.current;if(!n&&f){const x=new CustomEvent(Zs,{bubbles:!0,cancelable:!0});f.addEventListener(Zs,h=>s?.(h),{once:!0}),Sn(f,x),x.defaultPrevented?u.current=!1:c.onClose()}};return r.jsx(li,{...o,ref:d,disabled:n,onClick:O(e.onClick,m),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:O(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:O(e.onKeyDown,f=>{const x=i.searchRef.current!=="";n||x&&f.key===" "||wn.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Dr.displayName=mr;var li=l.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...a}=e,c=Yn(mr,n),i=ni(n),d=l.useRef(null),u=se(t,d),[m,f]=l.useState(!1),[x,h]=l.useState("");return l.useEffect(()=>{const v=d.current;v&&h((v.textContent??"").trim())},[a.children]),r.jsx(It.ItemSlot,{scope:n,disabled:s,textValue:o??x,children:r.jsx(gp,{asChild:!0,...i,focusable:!s,children:r.jsx(te.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:O(e.onPointerMove,Ot(v=>{s?c.onItemLeave(v):(c.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:O(e.onPointerLeave,Ot(v=>c.onItemLeave(v))),onFocus:O(e.onFocus,()=>f(!0)),onBlur:O(e.onBlur,()=>f(!1))})})})}),Sx="MenuCheckboxItem",di=l.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...o}=e;return r.jsx(pi,{scope:e.__scopeMenu,checked:n,children:r.jsx(Dr,{role:"menuitemcheckbox","aria-checked":hr(n)?"mixed":n,...o,ref:t,"data-state":Jn(n),onSelect:O(o.onSelect,()=>s?.(hr(n)?!0:!n),{checkForDefaultPrevented:!1})})})});di.displayName=Sx;var ui="MenuRadioGroup",[Ex,_x]=nt(ui,{value:void 0,onValueChange:()=>{}}),fi=l.forwardRef((e,t)=>{const{value:n,onValueChange:s,...o}=e,a=fe(s);return r.jsx(Ex,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(Xn,{...o,ref:t})})});fi.displayName=ui;var mi="MenuRadioItem",hi=l.forwardRef((e,t)=>{const{value:n,...s}=e,o=_x(mi,e.__scopeMenu),a=n===o.value;return r.jsx(pi,{scope:e.__scopeMenu,checked:a,children:r.jsx(Dr,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":Jn(a),onSelect:O(s.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});hi.displayName=mi;var Zn="MenuItemIndicator",[pi,kx]=nt(Zn,{checked:!1}),xi=l.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...o}=e,a=kx(Zn,n);return r.jsx(Ke,{present:s||hr(a.checked)||a.checked===!0,children:r.jsx(te.span,{...o,ref:t,"data-state":Jn(a.checked)})})});xi.displayName=Zn;var Rx="MenuSeparator",gi=l.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(te.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});gi.displayName=Rx;var Tx="MenuArrow",vi=l.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=Or(n);return r.jsx(fa,{...o,...s,ref:t})});vi.displayName=Tx;var Px="MenuSub",[Vg,bi]=nt(Px),Et="MenuSubTrigger",yi=l.forwardRef((e,t)=>{const n=st(Et,e.__scopeMenu),s=zt(Et,e.__scopeMenu),o=bi(Et,e.__scopeMenu),a=Yn(Et,e.__scopeMenu),c=l.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:d}=a,u={__scopeMenu:e.__scopeMenu},m=l.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return l.useEffect(()=>m,[m]),l.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),d(null)}},[i,d]),r.jsx(Gn,{asChild:!0,...u,children:r.jsx(li,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Ni(n.open),...e,ref:rt(t,o.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:O(e.onPointerMove,Ot(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:O(e.onPointerLeave,Ot(f=>{m();const x=n.content?.getBoundingClientRect();if(x){const h=n.content?.dataset.side,v=h==="right",p=v?-5:5,g=x[v?"left":"right"],y=x[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+p,y:f.clientY},{x:g,y:x.top},{x:y,y:x.top},{x:y,y:x.bottom},{x:g,y:x.bottom}],side:h}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:O(e.onKeyDown,f=>{const x=a.searchRef.current!=="";e.disabled||x&&f.key===" "||ux[s.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});yi.displayName=Et;var wi="MenuSubContent",ji=l.forwardRef((e,t)=>{const n=oi(pe,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,a=st(pe,e.__scopeMenu),c=zt(pe,e.__scopeMenu),i=bi(wi,e.__scopeMenu),d=l.useRef(null),u=se(t,d);return r.jsx(It.Provider,{scope:e.__scopeMenu,children:r.jsx(Ke,{present:s||a.open,children:r.jsx(It.Slot,{scope:e.__scopeMenu,children:r.jsx(Qn,{id:i.contentId,"aria-labelledby":i.triggerId,...o,ref:u,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{c.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:O(e.onFocusOutside,m=>{m.target!==i.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:O(e.onEscapeKeyDown,m=>{c.onClose(),m.preventDefault()}),onKeyDown:O(e.onKeyDown,m=>{const f=m.currentTarget.contains(m.target),x=fx[c.dir].includes(m.key);f&&x&&(a.onOpenChange(!1),i.trigger?.focus(),m.preventDefault())})})})})})});ji.displayName=wi;function Ni(e){return e?"open":"closed"}function hr(e){return e==="indeterminate"}function Jn(e){return hr(e)?"indeterminate":e?"checked":"unchecked"}function Ax(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Mx(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function Ix(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=Mx(e,Math.max(a,0));o.length===1&&(c=c.filter(u=>u!==n));const d=c.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function Ox(e,t){const{x:n,y:s}=e;let o=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const i=t[a],d=t[c],u=i.x,m=i.y,f=d.x,x=d.y;m>s!=x>s&&n<(f-u)*(s-m)/(x-m)+u&&(o=!o)}return o}function Dx(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Ox(n,t)}function Ot(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Lx=si,Fx=Gn,Bx=ai,$x=ii,zx=Xn,Vx=ci,Ux=Dr,Hx=di,Wx=fi,Kx=hi,Gx=xi,qx=gi,Yx=vi,Qx=yi,Xx=ji,Lr="DropdownMenu",[Zx]=We(Lr,[ri]),ie=ri(),[Jx,Ci]=Zx(Lr),Si=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:o,defaultOpen:a,onOpenChange:c,modal:i=!0}=e,d=ie(t),u=l.useRef(null),[m,f]=gr({prop:o,defaultProp:a??!1,onChange:c,caller:Lr});return r.jsx(Jx,{scope:t,triggerId:ln(),triggerRef:u,contentId:ln(),open:m,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(x=>!x),[f]),modal:i,children:r.jsx(Lx,{...d,open:m,onOpenChange:f,dir:s,modal:i,children:n})})};Si.displayName=Lr;var Ei="DropdownMenuTrigger",_i=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=e,a=Ci(Ei,n),c=ie(n);return r.jsx(Fx,{asChild:!0,...c,children:r.jsx(te.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:rt(t,a.triggerRef),onPointerDown:O(e.onPointerDown,i=>{!s&&i.button===0&&i.ctrlKey===!1&&(a.onOpenToggle(),a.open||i.preventDefault())}),onKeyDown:O(e.onKeyDown,i=>{s||(["Enter"," "].includes(i.key)&&a.onOpenToggle(),i.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});_i.displayName=Ei;var eg="DropdownMenuPortal",ki=e=>{const{__scopeDropdownMenu:t,...n}=e,s=ie(t);return r.jsx(Bx,{...s,...n})};ki.displayName=eg;var Ri="DropdownMenuContent",Ti=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Ci(Ri,n),a=ie(n),c=l.useRef(!1);return r.jsx($x,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...s,ref:t,onCloseAutoFocus:O(e.onCloseAutoFocus,i=>{c.current||o.triggerRef.current?.focus(),c.current=!1,i.preventDefault()}),onInteractOutside:O(e.onInteractOutside,i=>{const d=i.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,m=d.button===2||u;(!o.modal||m)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ti.displayName=Ri;var tg="DropdownMenuGroup",rg=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(zx,{...o,...s,ref:t})});rg.displayName=tg;var ng="DropdownMenuLabel",Pi=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(Vx,{...o,...s,ref:t})});Pi.displayName=ng;var sg="DropdownMenuItem",Ai=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(Ux,{...o,...s,ref:t})});Ai.displayName=sg;var og="DropdownMenuCheckboxItem",Mi=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(Hx,{...o,...s,ref:t})});Mi.displayName=og;var ag="DropdownMenuRadioGroup",ig=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(Wx,{...o,...s,ref:t})});ig.displayName=ag;var cg="DropdownMenuRadioItem",Ii=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(Kx,{...o,...s,ref:t})});Ii.displayName=cg;var lg="DropdownMenuItemIndicator",Oi=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(Gx,{...o,...s,ref:t})});Oi.displayName=lg;var dg="DropdownMenuSeparator",Di=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(qx,{...o,...s,ref:t})});Di.displayName=dg;var ug="DropdownMenuArrow",fg=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(Yx,{...o,...s,ref:t})});fg.displayName=ug;var mg="DropdownMenuSubTrigger",Li=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(Qx,{...o,...s,ref:t})});Li.displayName=mg;var hg="DropdownMenuSubContent",Fi=l.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ie(n);return r.jsx(Xx,{...o,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fi.displayName=hg;var pg=Si,xg=_i,gg=ki,Bi=Ti,$i=Pi,zi=Ai,Vi=Mi,Ui=Ii,Hi=Oi,Wi=Di,Ki=Li,Gi=Fi;const vg=pg,bg=xg,yg=l.forwardRef(({className:e,inset:t,children:n,...s},o)=>r.jsxs(Ki,{ref:o,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(Bl,{className:"ml-auto h-4 w-4"})]}));yg.displayName=Ki.displayName;const wg=l.forwardRef(({className:e,...t},n)=>r.jsx(Gi,{ref:n,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));wg.displayName=Gi.displayName;const qi=l.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(gg,{children:r.jsx(Bi,{ref:s,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));qi.displayName=Bi.displayName;const _t=l.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(zi,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));_t.displayName=zi.displayName;const jg=l.forwardRef(({className:e,children:t,checked:n,...s},o)=>r.jsxs(Vi,{ref:o,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Hi,{children:r.jsx(To,{className:"h-4 w-4"})})}),t]}));jg.displayName=Vi.displayName;const Ng=l.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Ui,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Hi,{children:r.jsx(Gl,{className:"h-2 w-2 fill-current"})})}),t]}));Ng.displayName=Ui.displayName;const Cg=l.forwardRef(({className:e,inset:t,...n},s)=>r.jsx($i,{ref:s,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Cg.displayName=$i.displayName;const Yi=l.forwardRef(({className:e,...t},n)=>r.jsx(Wi,{ref:n,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));Yi.displayName=Wi.displayName;function Sg(){const{busId:e}=xc(),t=pr(),{toast:n}=vt(),[s,o]=l.useState(null),[a,c]=l.useState(null),[i,d]=l.useState([]),[u,m]=l.useState(!0),[f,x]=l.useState(!1),[h,v]=l.useState(!1),[p,g]=l.useState(!1);l.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{m(!0);const{data:N,error:E}=await Z.from("buses").select("*").eq("id",e).single();if(E)throw E;o(N);const{data:_,error:A}=await Z.from("bus_locations").select("*").eq("bus_id",e).order("created_at",{ascending:!1}).limit(1).single();!A&&_&&c(_);const{data:L,error:D}=await Z.from("student_bus_assignments").select(`
          *,
          students:student_id (*)
        `).eq("bus_id",e).eq("is_active",!0);if(!D&&L){const B=L.map(T=>({...T.students[0],assignment:T}));d(B)}}catch(N){console.error("Error fetching bus details:",N)}finally{m(!1)}},b=async()=>{if(s){g(!0);try{const{error:N}=await Z.from("buses").delete().eq("id",s.id);if(N)throw new Error(N.message||"Failed to delete bus");n({title:"Bus Deleted",description:`${s.name} has been deleted successfully.`,variant:"default"}),t("/buses")}catch(N){console.error("Error deleting bus:",N),n({title:"Error",description:N.message||"Failed to delete bus",variant:"destructive"}),g(!1),v(!1)}}},w=()=>{s&&(t(`/buses?duplicate=${s.id}`),n({title:"Duplicate Bus",description:"Add Bus dialog will open with pre-filled data",variant:"default"}))},j=()=>{if(!s)return;const N=[{"Bus Number":s.bus_number,"Bus Name":s.name,Supervisor:s.supervisor_name||"N/A",Status:s.status,Model:s.model,Manufacturer:s.manufacturer,Year:s.year,Capacity:s.capacity,"License Plate":s.license_plate,VIN:s.vin,"Has GPS":s.has_gps?"Yes":"No","Has Wheelchair Lift":s.has_wheelchair_lift?"Yes":"No","Current Mileage":s.current_mileage,"Last Maintenance":s.last_maintenance_date||"N/A"}];zh(N,`bus_${s.bus_number}`),n({title:"Export Successful",description:"Bus data has been exported to CSV",variant:"default"})};return u&&!s?r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading bus details..."})})}):s?r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(xe,{to:"/buses",children:r.jsx(Q,{variant:"ghost",size:"icon",children:r.jsx(Tl,{className:"w-5 h-5"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-foreground",children:s.name}),r.jsxs("p",{className:"text-muted-foreground",children:["Bus #",s.bus_number]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Q,{onClick:()=>x(!0),className:"flex items-center gap-2",children:[r.jsx(Ed,{className:"w-4 h-4"}),"Edit"]}),r.jsxs(vg,{children:[r.jsx(bg,{asChild:!0,children:r.jsx(Q,{variant:"outline",size:"icon",children:r.jsx(td,{className:"w-4 h-4"})})}),r.jsxs(qi,{align:"end",className:"w-48",children:[r.jsxs(_t,{onClick:j,children:[r.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Export to CSV"]}),r.jsxs(_t,{onClick:Vh,children:[r.jsx(vd,{className:"w-4 h-4 mr-2"}),"Print"]}),r.jsxs(_t,{onClick:w,children:[r.jsx(Xl,{className:"w-4 h-4 mr-2"}),"Duplicate Bus"]}),r.jsx(Yi,{}),r.jsxs(_t,{onClick:()=>v(!0),className:"text-destructive focus:text-destructive",children:[r.jsx(kd,{className:"w-4 h-4 mr-2"}),"Delete Bus"]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs(K,{className:"p-6",children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2",children:[s.status==="active"?r.jsx(Hl,{className:"w-5 h-5 text-success"}):r.jsx(or,{className:"w-5 h-5 text-warning"}),r.jsx("p",{className:"text-lg font-bold text-foreground capitalize",children:s.status})]})]}),r.jsxs(K,{className:"p-6",children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Students Onboard"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:i.length})]}),r.jsxs(K,{className:"p-6",children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Capacity"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:s.capacity})]}),r.jsxs(K,{className:"p-6",children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"GPS Status"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${he(a,s.has_gps)?"bg-success animate-pulse":"bg-muted"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-foreground",children:he(a,s.has_gps)?"Online":"Offline"}),a&&r.jsx("p",{className:"text-xs text-muted-foreground",children:Mt(a)})]})]})]})]}),a&&r.jsxs(K,{className:"p-6 mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Live Location"}),r.jsx(Ar,{buses:[{bus:s,location:a}],selectedBusId:s.id}),r.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Speed"}),r.jsxs("p",{className:"text-xl font-bold text-foreground",children:[a.speed_kmh," km/h"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Heading"}),r.jsxs("p",{className:"text-xl font-bold text-foreground",children:[a.heading_degrees,""]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Latitude"}),r.jsx("p",{className:"text-sm font-mono text-foreground",children:a.location.lat.toFixed(6)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Longitude"}),r.jsx("p",{className:"text-sm font-mono text-foreground",children:a.location.lng.toFixed(6)})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsxs(K,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Vehicle Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between border-b border-border pb-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Model"}),r.jsx("span",{className:"font-medium text-foreground",children:s.model})]}),r.jsxs("div",{className:"flex justify-between border-b border-border pb-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Year"}),r.jsx("span",{className:"font-medium text-foreground",children:s.year})]}),r.jsxs("div",{className:"flex justify-between border-b border-border pb-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Manufacturer"}),r.jsx("span",{className:"font-medium text-foreground",children:s.manufacturer})]}),r.jsxs("div",{className:"flex justify-between border-b border-border pb-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"License Plate"}),r.jsx("span",{className:"font-medium text-foreground",children:s.license_plate})]}),r.jsxs("div",{className:"flex justify-between border-b border-border pb-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"VIN"}),r.jsx("span",{className:"font-mono text-sm text-foreground",children:s.vin})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Color"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 rounded border border-border",style:{backgroundColor:s.color}}),r.jsx("span",{className:"font-medium text-foreground capitalize",children:s.color})]})]})]})]}),r.jsxs(K,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Additional Features"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary/50 rounded-lg",children:[r.jsx(An,{className:"w-5 h-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:"Wheelchair Lift"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s.has_wheelchair_lift?"Available":"Not available"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary/50 rounded-lg",children:[r.jsx(et,{className:"w-5 h-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:"GPS System"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s.has_gps?"Installed":"Not installed"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary/50 rounded-lg",children:[r.jsx(Ld,{className:"w-5 h-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:"Last Maintenance"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.last_maintenance_date).toLocaleDateString()})]})]})]})]})]}),r.jsxs(K,{className:"p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Students Onboard"}),i.length===0?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No students assigned to this bus"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-border",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Name"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Student ID"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Grade"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Boarding Stop"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Status"})]})}),r.jsx("tbody",{children:i.map(N=>r.jsxs("tr",{className:"border-b border-border hover:bg-secondary/50 transition-colors",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsx("p",{className:"font-medium text-foreground",children:N.full_name})}),r.jsx("td",{className:"py-4 px-4 text-muted-foreground",children:N.student_number}),r.jsx("td",{className:"py-4 px-4 text-muted-foreground",children:N.grade_level}),r.jsxs("td",{className:"py-4 px-4 text-muted-foreground",children:["Stop ",N.assignment.boarding_stop_id]}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"px-3 py-1 bg-success/20 text-success rounded-full text-xs font-semibold",children:"Onboard"})})]},N.id))})]})})]}),s&&r.jsx(Yh,{bus:s,isOpen:f,onClose:()=>x(!1),onSuccess:y}),s&&r.jsx(Qh,{isOpen:h,title:"Delete Bus",message:`Are you sure you want to delete "${s.name}"? This action cannot be undone and will remove all associated data.`,confirmText:"Delete",cancelText:"Cancel",variant:"destructive",onConfirm:b,onCancel:()=>v(!1),loading:p})]}):r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Bus Not Found"}),r.jsx(xe,{to:"/buses",children:r.jsx(Q,{variant:"outline",children:"Back to Buses"})})]})})}function Eg(){const[e,t]=l.useState([]),[n,s]=l.useState({}),[o,a]=l.useState(),[c,i]=l.useState(!0);l.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const{data:f,error:x}=await Z.from("buses").select("*").eq("has_gps",!0);if(x)throw console.error("Error fetching buses for tracking:",x.message||x),new Error(x.message||"Failed to fetch buses");t(f||[]);const{data:h,error:v}=await Z.from("bus_locations").select("*").in("bus_id",(f||[]).map(p=>p.id));if(v)console.error("Error fetching tracking locations:",v.message||v);else if(h){const p={};h.forEach(g=>{p[g.bus_id]=g}),s(p)}}catch(f){const x=f instanceof Error?f.message:String(f);console.error("Error fetching tracking data:",x)}finally{i(!1)}},u=e.map(f=>({bus:f,location:n[f.id]})),m=u.filter(f=>he(f.location,f.bus.has_gps));return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Live Tracking"}),r.jsx("p",{className:"text-muted-foreground",children:"Real-time GPS tracking for all buses in your fleet"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Total Tracked"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:e.length})]}),r.jsx(yd,{className:"w-8 h-8 text-primary"})]})}),r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Online Now"}),r.jsx("p",{className:"text-3xl font-bold text-success",children:m.length})]}),r.jsx("div",{className:"w-4 h-4 rounded-full bg-success animate-pulse"})]})}),r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Offline"}),r.jsx("p",{className:"text-3xl font-bold text-muted-foreground",children:e.length-m.length})]}),r.jsx("div",{className:"w-4 h-4 rounded-full bg-muted"})]})})]}),r.jsxs(K,{className:"p-6 mb-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-foreground mb-4 flex items-center gap-2",children:[r.jsx(et,{className:"w-6 h-6"}),"Fleet Locations"]}),c?r.jsx("div",{className:"flex items-center justify-center py-32",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading live tracking data..."})}):e.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[r.jsx(et,{className:"w-16 h-16 text-muted-foreground/30 mb-4"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"No buses with GPS tracking"})]}):r.jsx(Ar,{buses:u,selectedBusId:o,onBusSelect:a})]}),r.jsxs(K,{className:"p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Active Buses"}),m.length===0?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No buses currently online"}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(f=>r.jsxs("div",{className:`p-4 border-2 rounded-lg transition-all cursor-pointer ${o===f.bus.id?"border-primary bg-primary/5":"border-border hover:border-primary"}`,onClick:()=>a(f.bus.id),children:[r.jsx("h3",{className:"font-bold text-foreground mb-2",children:f.bus.name}),r.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Bus #",f.bus.bus_number]}),f.location&&r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Speed:"}),r.jsxs("span",{className:"font-medium text-foreground",children:[f.location.speed_kmh," km/h"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Heading:"}),r.jsxs("span",{className:"font-medium text-foreground",children:[f.location.heading_degrees,""]})]}),r.jsx("div",{className:"pt-2 border-t border-border",children:r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last update:"," ",new Date(f.location.updated_at).toLocaleTimeString()]})})]})]},f.bus.id))})]})]})}function _g({isOpen:e,onClose:t,onSuccess:n}){const{toast:s}=vt(),[o,a]=l.useState(!1),[c,i]=l.useState({name:"",address:"",city:"",state:"",postal_code:"",country:"USA",phone:"",email:"",website:"",timezone:"America/New_York"}),d=m=>{const{name:f,value:x}=m.target;i(h=>({...h,[f]:x}))},u=async m=>{m.preventDefault(),a(!0);try{const{data:f,error:x}=await Z.from("schools").insert([c]).select();if(x)throw console.error("Supabase error:",x),new Error(x.message||x.details||"Failed to add school");console.log("School added successfully:",f),s({title:"Success!",description:"School has been added successfully.",variant:"default"}),i({name:"",address:"",city:"",state:"",postal_code:"",country:"USA",phone:"",email:"",website:"",timezone:"America/New_York"}),n(),t()}catch(f){console.error("Error adding school:",f);let x="Failed to add school. Please try again.";f?.message?x=f.message:typeof f=="string"&&(x=f),s({title:"Error",description:x,variant:"destructive"})}finally{a(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-card rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 flex items-center justify-between p-6 border-b border-border bg-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Add New School"}),r.jsx("button",{onClick:t,disabled:o,className:"p-1 hover:bg-secondary rounded-lg transition-colors",children:r.jsx(Lt,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"School Name *"}),r.jsx(F,{type:"text",name:"name",value:c.name,onChange:d,placeholder:"Enter school name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Email"}),r.jsx(F,{type:"email",name:"email",value:c.email,onChange:d,placeholder:"school@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Phone"}),r.jsx(F,{type:"tel",name:"phone",value:c.phone,onChange:d,placeholder:"+1 (555) 000-0000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Website"}),r.jsx(F,{type:"url",name:"website",value:c.website,onChange:d,placeholder:"https://example.com"})]})]})]}),r.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Address"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Street Address"}),r.jsx(F,{type:"text",name:"address",value:c.address,onChange:d,placeholder:"123 Main Street"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"City"}),r.jsx(F,{type:"text",name:"city",value:c.city,onChange:d,placeholder:"New York"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"State"}),r.jsx(F,{type:"text",name:"state",value:c.state,onChange:d,placeholder:"NY"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Postal Code"}),r.jsx(F,{type:"text",name:"postal_code",value:c.postal_code,onChange:d,placeholder:"10001"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Country"}),r.jsx(F,{type:"text",name:"country",value:c.country,onChange:d,placeholder:"USA"})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Settings"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Timezone"}),r.jsx(F,{type:"text",name:"timezone",value:c.timezone,onChange:d,placeholder:"America/New_York"})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx(Q,{type:"button",variant:"outline",onClick:t,disabled:o,children:"Cancel"}),r.jsx(Q,{type:"submit",disabled:o,children:o?"Adding...":"Add School"})]})]})]})}):null}function kg(){const[e,t]=l.useState([]),[n,s]=l.useState({}),[o,a]=l.useState({}),[c,i]=l.useState(!0),[d,u]=l.useState(""),[m,f]=l.useState(!1);l.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0);const{data:v,error:p}=await Z.from("schools").select("*").order("name");if(p)throw console.error("Error fetching schools:",p.message||p),new Error(p.message||"Failed to fetch schools");if(t(v||[]),v&&v.length>0){const{data:g,error:y}=await Z.from("buses").select("*").in("school_id",v.map(b=>b.id));if(y)console.error("Error fetching buses:",y.message||y);else if(g){const b={};g.forEach(N=>{b[N.school_id]||(b[N.school_id]=[]),b[N.school_id].push(N)}),s(b);const{data:w,error:j}=await Z.from("bus_locations").select("*").in("bus_id",g.map(N=>N.id));if(j)console.error("Error fetching bus locations:",j.message||j);else if(w){const N={};w.forEach(E=>{N[E.bus_id]=E}),a(N)}}}}catch(v){const p=v instanceof Error?v.message:String(v);console.error("Error fetching schools:",p)}finally{i(!1)}},h=e.filter(v=>v.name.toLowerCase().includes(d.toLowerCase())||v.city.toLowerCase().includes(d.toLowerCase()));return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Schools"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage schools and their bus tracking"})]}),r.jsxs(Q,{onClick:()=>f(!0),className:"flex items-center gap-2",children:[r.jsx(yr,{className:"w-4 h-4"}),"Add School"]})]}),r.jsx("div",{className:"flex gap-4 mb-6",children:r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(wr,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),r.jsx(F,{placeholder:"Search schools...",value:d,onChange:v=>u(v.target.value),className:"pl-10"})]})}),c?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading schools..."})}):h.length===0?r.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:r.jsx("p",{className:"text-muted-foreground mb-4",children:"No schools found"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(v=>{const p=n[v.id]||[];return r.jsxs(K,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-primary flex flex-col h-full",children:[r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:v.name}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[v.city,", ",v.state]}),r.jsxs("div",{className:"space-y-3 mb-6 flex-1",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(et,{className:"w-4 h-4 text-primary mt-1 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:v.address})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(pd,{className:"w-4 h-4 text-primary flex-shrink-0"}),r.jsx("p",{className:"text-sm text-foreground",children:v.phone})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Tn,{className:"w-4 h-4 text-primary flex-shrink-0"}),r.jsx("p",{className:"text-sm text-foreground",children:v.email})]}),v.website&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(od,{className:"w-4 h-4 text-primary flex-shrink-0"}),r.jsx("a",{href:v.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:v.website})]}),r.jsxs("div",{className:"pt-4 border-t border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ze,{className:"w-4 h-4 text-primary"}),r.jsxs("p",{className:"text-sm font-semibold text-foreground",children:["School Buses (",p.length,")"]})]}),p.length>0&&r.jsxs("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-full font-medium",children:[p.filter(g=>g.status==="active").length," Active"]})]}),p.length===0?r.jsxs("div",{className:"text-center py-6 bg-muted/30 rounded-lg border-2 border-dashed border-border",children:[r.jsx(ze,{className:"w-8 h-8 text-muted-foreground/30 mx-auto mb-2"}),r.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"No buses assigned"}),r.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Add buses to this school"})]}):r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:p.map(g=>{const y=o[g.id],b=he(y,g.has_gps),w=Mt(y);return r.jsx(xe,{to:`/buses/${g.id}`,className:"block",children:r.jsxs("div",{className:"group flex items-center justify-between p-3 bg-secondary/30 hover:bg-secondary/60 rounded-lg border border-border hover:border-primary transition-all cursor-pointer",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:bg-primary/30 transition-colors",children:r.jsx(ze,{className:"w-4 h-4 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-sm text-foreground truncate",children:g.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Bus #",g.bus_number]}),g.supervisor_name&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:""}),r.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[" ",g.supervisor_name]})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.has_gps&&r.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[r.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${b?"bg-success/20 text-success":"bg-muted/20 text-muted-foreground"}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${b?"bg-success animate-pulse":"bg-muted-foreground"}`}),b?"Online":"Offline"]}),y&&r.jsx("span",{className:"text-xs text-muted-foreground",children:w})]}),r.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${g.status==="active"?"bg-success/10 text-success":g.status==="maintenance"?"bg-warning/10 text-warning":"bg-muted text-muted-foreground"}`,children:g.status})]})]})},g.id)})})]})]}),r.jsx(Q,{variant:"outline",className:"w-full",children:"View Details"})]},v.id)})}),r.jsx(_g,{isOpen:m,onClose:()=>f(!1),onSuccess:x})]})}function Rg(){const[e,t]=l.useState([]),[n,s]=l.useState(!0),[o,a]=l.useState("");l.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const{data:d,error:u}=await Z.from("students").select("*").order("full_name");if(u)throw console.error("Error fetching students:",u.message||u),new Error(u.message||"Failed to fetch students");t(d||[])}catch(d){const u=d instanceof Error?d.message:String(d);console.error("Error fetching students:",u)}finally{s(!1)}},i=e.filter(d=>d.full_name.toLowerCase().includes(o.toLowerCase())||d.student_number.toLowerCase().includes(o.toLowerCase()));return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Students"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage student records and assignments"})]}),r.jsxs(Q,{className:"flex items-center gap-2",children:[r.jsx(yr,{className:"w-4 h-4"}),"Add Student"]})]}),r.jsx("div",{className:"flex gap-4 mb-6",children:r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(wr,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),r.jsx(F,{placeholder:"Search students...",value:o,onChange:d=>a(d.target.value),className:"pl-10"})]})}),r.jsx(K,{className:"p-6",children:n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading students..."})}):i.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Md,{className:"w-12 h-12 text-muted-foreground/30 mb-4"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No students found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-border",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Name"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Student ID"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Grade"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"DOB"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Status"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-foreground",children:"Actions"})]})}),r.jsx("tbody",{children:i.map(d=>r.jsxs("tr",{className:"border-b border-border hover:bg-secondary/50 transition-colors",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsx("p",{className:"font-medium text-foreground",children:d.full_name})}),r.jsx("td",{className:"py-4 px-4 text-muted-foreground font-mono text-sm",children:d.student_number}),r.jsx("td",{className:"py-4 px-4 text-muted-foreground",children:d.grade_level}),r.jsx("td",{className:"py-4 px-4 text-muted-foreground",children:new Date(d.date_of_birth).toLocaleDateString()}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${d.is_active?"bg-success/20 text-success":"bg-muted/20 text-muted-foreground"}`,children:d.is_active?"Active":"Inactive"})}),r.jsx("td",{className:"py-4 px-4 text-right",children:r.jsx(Q,{variant:"ghost",size:"sm",children:"View"})})]},d.id))})]})})})]})}function Tg(){const[e,t]=l.useState([]),[n,s]=l.useState(!0),[o,a]=l.useState("");l.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const{data:d,error:u}=await Z.from("bus_routes").select("*").order("name");if(u)throw console.error("Error fetching routes:",u.message||u),new Error(u.message||"Failed to fetch routes");t(d||[])}catch(d){const u=d instanceof Error?d.message:String(d);console.error("Error fetching routes:",u)}finally{s(!1)}},i=e.filter(d=>d.name.toLowerCase().includes(o.toLowerCase()));return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Routes"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage bus routes and stops"})]}),r.jsxs(Q,{className:"flex items-center gap-2",children:[r.jsx(yr,{className:"w-4 h-4"}),"Add Route"]})]}),r.jsx("div",{className:"flex gap-4 mb-6",children:r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(wr,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),r.jsx(F,{placeholder:"Search routes...",value:o,onChange:d=>a(d.target.value),className:"pl-10"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?r.jsx("div",{className:"col-span-full flex items-center justify-center py-12",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading routes..."})}):i.length===0?r.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-12",children:[r.jsx(sr,{className:"w-12 h-12 text-muted-foreground/30 mb-4"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No routes found"})]}):i.map(d=>r.jsxs(K,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-primary",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-foreground",children:d.name}),r.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.route_type})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${d.is_active?"bg-success/20 text-success":"bg-muted/20 text-muted-foreground"}`,children:d.is_active?"Active":"Inactive"})]}),r.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:r.jsxs("p",{children:["Route ID: ",d.id]})}),r.jsx(Q,{variant:"outline",className:"w-full",children:"View Route Details"})]},d.id))})]})}function Pg(){const[e,t]=l.useState(""),[n,s]=l.useState([]),[o,a]=l.useState(null),[c,i]=l.useState([]),[d,u]=l.useState({}),[m,f]=l.useState(!0),[x,h]=l.useState();l.useEffect(()=>{v()},[]),l.useEffect(()=>{e&&p(e)},[e]);const v=async()=>{try{f(!0);const{data:b,error:w}=await Z.from("schools").select("*").order("name");if(w)throw console.error("Error fetching schools:",w.message||w),new Error(w.message||"Failed to fetch schools");s(b||[]),b&&b.length>0&&(t(b[0].id),a(b[0]))}catch(b){const w=b instanceof Error?b.message:String(b);console.error("Error fetching schools:",w)}finally{f(!1)}},p=async b=>{try{const{data:w,error:j}=await Z.from("buses").select("*").eq("school_id",b);if(j)throw console.error("Error fetching buses:",j.message||j),new Error(j.message||"Failed to fetch buses");if(i(w||[]),w&&w.length>0){const{data:N,error:E}=await Z.from("bus_locations").select("*").in("bus_id",w.map(_=>_.id));if(E)console.error("Error fetching locations:",E.message||E);else if(N){const _={};N.forEach(A=>{_[A.bus_id]=A}),u(_)}}}catch(w){const j=w instanceof Error?w.message:String(w);console.error("Error fetching buses:",j)}},g=c.map(b=>({bus:b,location:d[b.id]})),y=g.filter(b=>he(b.location,b.bus.has_gps));return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"bg-gradient-to-r from-primary to-accent p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Student Bus Portal"}),r.jsx("p",{className:"text-white/90",children:"Track your school bus and see real-time location updates"})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[n.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("label",{className:"block text-sm font-semibold text-foreground mb-3",children:"Select Your School"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:n.map(b=>r.jsxs("button",{onClick:()=>{t(b.id),a(b)},className:`p-4 rounded-lg border-2 transition-all text-left ${e===b.id?"border-primary bg-primary/10":"border-border hover:border-primary"}`,children:[r.jsx("p",{className:"font-semibold text-foreground",children:b.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.city,", ",b.state]})]},b.id))})]}),m?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx("p",{className:"text-muted-foreground text-lg",children:"Loading buses..."})}):c.length===0?r.jsxs(K,{className:"p-12 text-center",children:[r.jsx(pt,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"No buses assigned to this school yet"})]}):r.jsxs(r.Fragment,{children:[r.jsxs(K,{className:"p-6 mb-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-foreground mb-4 flex items-center gap-2",children:[r.jsx(et,{className:"w-6 h-6"}),"Live Bus Locations"]}),r.jsx(Ar,{buses:g,selectedBusId:x,onBusSelect:h})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Total Buses"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:c.length})]}),r.jsx(sr,{className:"w-8 h-8 text-primary"})]})}),r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Online Now"}),r.jsx("p",{className:"text-3xl font-bold text-success",children:y.length})]}),r.jsx("div",{className:"w-4 h-4 rounded-full bg-success animate-pulse"})]})}),r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:"Offline"}),r.jsx("p",{className:"text-3xl font-bold text-muted-foreground",children:c.length-y.length})]}),r.jsx(pt,{className:"w-8 h-8 text-muted-foreground/30"})]})})]}),r.jsxs(K,{className:"p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Available Buses"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(b=>{const w=d[b.id],j=he(w,b.has_gps),N=Mt(w);return r.jsxs("div",{className:`p-4 border-2 rounded-lg transition-all cursor-pointer ${x===b.id?"border-primary bg-primary/5":"border-border hover:border-primary"}`,onClick:()=>h(b.id),children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-foreground",children:b.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Bus #",b.bus_number]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-1",children:[r.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${j?"bg-success/20 text-success":"bg-muted/20 text-muted-foreground"}`,children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${j?"bg-success":"bg-muted-foreground"} ${j?"animate-pulse":""}`}),j?"Online":"Offline"]}),w&&r.jsx("span",{className:"text-xs text-muted-foreground",children:N})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Model:"}),r.jsx("span",{className:"font-medium text-foreground",children:b.model})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Capacity:"}),r.jsxs("span",{className:"font-medium text-foreground",children:[b.capacity," seats"]})]})]}),w&&r.jsxs("div",{className:"pt-3 border-t border-border mt-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[r.jsx(Yl,{className:"w-3 h-3"}),r.jsxs("span",{children:["Speed: ",w.speed_kmh," km/h"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(sr,{className:"w-3 h-3"}),r.jsxs("span",{children:["Heading: ",w.heading_degrees,""]})]})]})]},b.id)})})]})]})]})]})}function Ag(){const e=pr(),{signIn:t,user:n}=Pr(),[s,o]=l.useState(""),[a,c]=l.useState(""),[i,d]=l.useState(""),[u,m]=l.useState(!1);n&&e("/");const f=async x=>{x.preventDefault(),d(""),m(!0);try{const{error:h}=await t(s,a);h?d(h.message):e("/")}catch{d("An unexpected error occurred. Please try again.")}finally{m(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/20 via-background to-accent/20 p-4",children:r.jsxs(K,{className:"w-full max-w-md p-8 shadow-2xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-2xl mb-4",children:r.jsx(ze,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Welcome to BusTrack"}),r.jsx("p",{className:"text-muted-foreground",children:"Sign in to manage your school bus fleet"})]}),i&&r.jsxs("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg flex items-start gap-3",children:[r.jsx(pt,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-destructive",children:"Login Failed"}),r.jsx("p",{className:"text-xs text-destructive/80 mt-1",children:i})]})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Tn,{className:"absolute left-3 top-3 w-5 h-5 text-muted-foreground"}),r.jsx(F,{type:"email",value:s,onChange:x=>o(x.target.value),placeholder:"admin@school.edu",required:!0,className:"pl-10",disabled:u})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(on,{className:"absolute left-3 top-3 w-5 h-5 text-muted-foreground"}),r.jsx(F,{type:"password",value:a,onChange:x=>c(x.target.value),placeholder:"Enter your password",required:!0,className:"pl-10",disabled:u})]})]}),r.jsx(Q,{type:"submit",className:"w-full",disabled:u,size:"lg",children:u?"Signing in...":"Sign In"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-border"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",r.jsx(xe,{to:"/signup",className:"text-primary font-semibold hover:underline",children:"Sign up"})]})}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-border text-center",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Looking for bus tracking?"}),r.jsx(xe,{to:"/student-portal",children:r.jsx(Q,{variant:"outline",size:"sm",className:"text-xs",children:"Go to Student Portal"})})]}),r.jsxs("div",{className:"mt-6 p-4 bg-info/10 border border-info/20 rounded-lg",children:[r.jsx("p",{className:"text-xs font-semibold text-info mb-2",children:" Demo Credentials (Development Only)"}),r.jsxs("div",{className:"text-xs text-info/80 space-y-1",children:[r.jsx("p",{children:"Email: admin@bustrack.com"}),r.jsx("p",{children:"Password: demo123456"}),r.jsx("p",{className:"mt-2 text-[10px] text-info/60",children:"Create an account in Supabase Auth or use sign up"})]})]})]})})}function Mg(){const e=pr(),{signUp:t}=Pr(),[n,s]=l.useState(""),[o,a]=l.useState(""),[c,i]=l.useState(""),[d,u]=l.useState(""),[m,f]=l.useState(!1),[x,h]=l.useState(!1),v=async p=>{if(p.preventDefault(),u(""),f(!1),o.length<6){u("Password must be at least 6 characters long");return}if(o!==c){u("Passwords do not match");return}h(!0);try{const{error:g}=await t(n,o);g?u(g.message):(f(!0),setTimeout(()=>{e("/login")},2e3))}catch{u("An unexpected error occurred. Please try again.")}finally{h(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/20 via-background to-accent/20 p-4",children:r.jsxs(K,{className:"w-full max-w-md p-8 shadow-2xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-2xl mb-4",children:r.jsx(ze,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Create Account"}),r.jsx("p",{className:"text-muted-foreground",children:"Sign up to start managing your bus fleet"})]}),m&&r.jsxs("div",{className:"mb-6 p-4 bg-success/10 border border-success/20 rounded-lg flex items-start gap-3",children:[r.jsx(Po,{className:"w-5 h-5 text-success flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-success",children:"Account Created Successfully!"}),r.jsx("p",{className:"text-xs text-success/80 mt-1",children:"Check your email to verify your account. Redirecting to login..."})]})]}),d&&r.jsxs("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg flex items-start gap-3",children:[r.jsx(pt,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-destructive",children:"Sign Up Failed"}),r.jsx("p",{className:"text-xs text-destructive/80 mt-1",children:d})]})]}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Tn,{className:"absolute left-3 top-3 w-5 h-5 text-muted-foreground"}),r.jsx(F,{type:"email",value:n,onChange:p=>s(p.target.value),placeholder:"admin@school.edu",required:!0,className:"pl-10",disabled:x||m})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(on,{className:"absolute left-3 top-3 w-5 h-5 text-muted-foreground"}),r.jsx(F,{type:"password",value:o,onChange:p=>a(p.target.value),placeholder:"At least 6 characters",required:!0,className:"pl-10",disabled:x||m})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(on,{className:"absolute left-3 top-3 w-5 h-5 text-muted-foreground"}),r.jsx(F,{type:"password",value:c,onChange:p=>i(p.target.value),placeholder:"Re-enter your password",required:!0,className:"pl-10",disabled:x||m})]})]}),r.jsx(Q,{type:"submit",className:"w-full",disabled:x||m,size:"lg",children:x?"Creating account...":"Create Account"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-border"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Already have an account?"})})]}),r.jsx("div",{className:"text-center",children:r.jsx(xe,{to:"/login",children:r.jsx(Q,{variant:"outline",className:"w-full",children:"Sign In Instead"})})}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-border text-center",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Looking for bus tracking?"}),r.jsx(xe,{to:"/student-portal",children:r.jsx(Q,{variant:"outline",size:"sm",className:"text-xs",children:"Go to Student Portal"})})]})]})})}const Ig=()=>{const e=eo();return l.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Og=new fh,Je=({children:e})=>r.jsx(Rh,{children:e});function Dg(){return r.jsx(hh,{client:Og,children:r.jsx(gh,{children:r.jsxs(Bm,{children:[r.jsx(bu,{}),r.jsx(Xu,{}),r.jsx(gc,{children:r.jsxs(vc,{children:[r.jsx(ye,{path:"/login",element:r.jsx(Ag,{})}),r.jsx(ye,{path:"/signup",element:r.jsx(Mg,{})}),r.jsx(ye,{path:"/student-portal",element:r.jsx(Pg,{})}),r.jsx(ye,{path:"/",element:r.jsx(Ze,{children:r.jsx(Je,{children:r.jsx(Lh,{})})})}),r.jsx(ye,{path:"/buses",element:r.jsx(Ze,{children:r.jsx(Je,{children:r.jsx(Uh,{})})})}),r.jsx(ye,{path:"/buses/:busId",element:r.jsx(Ze,{children:r.jsx(Je,{children:r.jsx(Sg,{})})})}),r.jsx(ye,{path:"/tracking",element:r.jsx(Ze,{children:r.jsx(Je,{children:r.jsx(Eg,{})})})}),r.jsx(ye,{path:"/schools",element:r.jsx(Ze,{children:r.jsx(Je,{children:r.jsx(kg,{})})})}),r.jsx(ye,{path:"/students",element:r.jsx(Ze,{children:r.jsx(Je,{children:r.jsx(Rg,{})})})}),r.jsx(ye,{path:"/routes",element:r.jsx(Ze,{children:r.jsx(Je,{children:r.jsx(Tg,{})})})}),r.jsx(ye,{path:"*",element:r.jsx(Ig,{})})]})})]})})})}const Qi=document.getElementById("root");if(!Qi)throw new Error("Root element not found");jc.createRoot(Qi).render(r.jsx(Dg,{}));
